<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#FAF7F2">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Phoka Coffee — Crafted With Soul</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Sodo+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
/* ═══════════════════════════════════════════
   RESET & ROOT
═══════════════════════════════════════════ */
 @font-face {
    font-family: 'Sodo Sans';
    src: url('fonts/SoDoSans-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}

/* Circular Std - Medium (500) */
@font-face {
    font-family: 'Sodo Sans';
    src: url('fonts/SoDoSans-SemiBold.woff') format('truetype');
    font-weight: 500;
    font-style: normal;
}

/* Sodo Sans - Bold (700) */
@font-face {
    font-family: 'Sodo Sans';
    src: url('fonts/SoDoSans-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --cream:#FAF7F2;
  --off-white:#F3EEE7;
  --warm-white:#EDE6DC;
  --choco-50:#F7EDE4;
  --choco-100:#EDD5BF;
  --choco-200:#D4A97A;
  --choco-300:#B5763D;
  --choco-400:#8B4513;
  --choco-500:#6B3410;
  --choco-600:#4A2409;
  --choco-700:#2C1505;
  --choco-800:#1A0C02;
  --accent:#6B3410;
  --accent-light:#B5763D;
  --accent-dark:#4A2409;
  --text-dark:#1A0C02;
  --text-mid:#4A2409;
  --text-light:#8B6650;
  --text-muted:#C4A98A;
  --border:#E5D8C8;
  --shadow:0 4px 30px rgba(107,52,16,0.08);
  --shadow-lg:0 20px 60px rgba(107,52,16,0.14);
  --radius:4px;
  --radius-sm:4px;
  --ease:cubic-bezier(0.25,0.46,0.45,0.94);
  --ease-bounce:cubic-bezier(0.34,1.56,0.64,1);
  --font:'Sodo Sans',sans-serif;
  --bottom-bar-h:72px;
}
html{scroll-behavior:smooth;}
body{
  font-family:var(--font);
  background:var(--cream);
  color:var(--text-dark);
  line-height:1.6;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
a{text-decoration:none;color:inherit;}
button{cursor:pointer;border:none;background:none;font-family:var(--font);}
ul{list-style:none;}
img{max-width:100%;display:block;object-fit:cover;}
input,select,textarea{font-family:var(--font);}

/* ═══════════════════════════════════════════
   SCROLLBAR
═══════════════════════════════════════════ */
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:var(--choco-200);border-radius:10px;}
::-webkit-scrollbar-thumb:hover{background:var(--accent-light);}

/* ═══════════════════════════════════════════
   UTILITY
═══════════════════════════════════════════ */
.container{max-width:1300px;margin:0 auto;padding:0 40px;}
.btn-primary{
  display:inline-flex;align-items:center;gap:10px;
  padding:14px 32px;background:var(--accent);color:#fff;
  border-radius:50px;font-size:14px;font-weight:600;letter-spacing:0.3px;
  transition:all 0.3s var(--ease);border:none;
}
.btn-primary:hover{background:var(--accent-dark);transform:translateY(-2px);box-shadow:0 8px 24px rgba(107,52,16,0.3);}
.btn-secondary{
  display:inline-flex;align-items:center;gap:10px;
  padding:13px 30px;border:2px solid var(--accent);color:var(--accent);
  border-radius:50px;font-size:14px;font-weight:600;
  transition:all 0.3s var(--ease);
}
.btn-secondary:hover{background:var(--accent);color:#fff;transform:translateY(-2px);}
.section-label{
  display:inline-flex;align-items:center;gap:8px;
  font-size:11px;font-weight:700;letter-spacing:2.5px;text-transform:uppercase;
  color:var(--accent-light);margin-bottom:14px;
}
.section-label::before{content:'';width:20px;height:2px;background:var(--accent-light);border-radius:2px;}
.section-title{font-size:clamp(30px,3.5vw,50px);font-weight:800;line-height:1.08;color:var(--text-dark);letter-spacing:-1px;}
.section-sub{font-size:15px;color:var(--text-light);margin-top:12px;line-height:1.75;max-width:460px;}

/* ═══════════════════════════════════════════
   REVEAL ANIMATIONS
═══════════════════════════════════════════ */
.reveal{opacity:0;transform:translateY(36px);transition:opacity 0.7s var(--ease),transform 0.7s var(--ease);}
.reveal.visible{opacity:1;transform:translateY(0);}
.reveal-left{opacity:0;transform:translateX(-36px);transition:opacity 0.7s var(--ease),transform 0.7s var(--ease);}
.reveal-left.visible{opacity:1;transform:translateX(0);}
.reveal-right{opacity:0;transform:translateX(36px);transition:opacity 0.7s var(--ease),transform 0.7s var(--ease);}
.reveal-right.visible{opacity:1;transform:translateX(0);}
.reveal-scale{opacity:0;transform:scale(0.93);transition:opacity 0.7s var(--ease),transform 0.7s var(--ease);}
.reveal-scale.visible{opacity:1;transform:scale(1);}
[data-delay="1"]{transition-delay:0.08s;}
[data-delay="2"]{transition-delay:0.16s;}
[data-delay="3"]{transition-delay:0.24s;}
[data-delay="4"]{transition-delay:0.32s;}
[data-delay="5"]{transition-delay:0.40s;}
[data-delay="6"]{transition-delay:0.48s;}

/* ═══════════════════════════════════════════
   HEADER
═══════════════════════════════════════════ */
header{
  position:fixed;top:0;left:0;width:100%;z-index:900;
  padding:18px 40px;
  display:flex;justify-content:space-between;align-items:center;
  transition:all 0.4s var(--ease);
}
header.scrolled{
  background:rgba(250,247,242,0.97);
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  padding:13px 40px;
  box-shadow:0 1px 0 var(--border);
}
.header-left{display:flex;align-items:center;gap:40px;}
.logo-wrap{display:flex;align-items:center;gap:11px;flex-shrink:0;}
.logo-icon{
  width:38px;height:38px;border-radius:10px;
  background:transparent;display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
.logo-text{font-size:19px;font-weight:500;letter-spacing:-0.4px;color:var(--text-dark);}
.logo-text span{color:var(--accent);}
.nav-links{display:flex;align-items:center;gap:28px;}
.nav-links a{font-size:16px;font-weight:500;color:var(--text-mid);transition:color 0.2s;letter-spacing:0.2px;}
.nav-links a:hover{color:var(--accent);}
.header-right{display:flex;align-items:center;gap:12px;}
.icon-btn{
  width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;
  background:transparent;color:var(--text-mid);transition:all 0.2s;position:relative;
}
.icon-btn:hover{background:var(--choco-50);color:var(--accent);}
.icon-btn.fav-active svg{fill:var(--accent);stroke:var(--accent);}
.menu-toggle{display:none;}

/* ═══════════════════════════════════════════
   HERO
═══════════════════════════════════════════ */
.hero{
  min-height:100vh;position:relative;
  display:flex;align-items:center;
  overflow:hidden;background:var(--cream);
}
.hero-bg{
  position:absolute;top:0;right:0;
  width:100%;height:100%;
  border-radius:0 0 0 80px;
  overflow:hidden;
}
.hero-bg img{width:100%;height:100%;object-fit:cover;transform:scale(1.04);}
.hero-bg::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(105deg,var(--cream) 0%,rgba(250,247,242,0.6) 38%,transparent 60%);
}
.hero-content{
  position:relative;z-index:2;
  padding:130px 0 120px;max-width:1200px;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  background:var(--choco-50);border:1px solid var(--choco-100);
  padding:7px 16px;border-radius:50px;
  font-size:12px;font-weight:700;color:var(--accent);
  margin-bottom:26px;letter-spacing:0.3px;
}
.hero h1{
  font-size:clamp(40px,5.5vw,76px);
  font-weight:500;line-height:1.01;
  color:var(--text-dark);letter-spacing:-2.5px;
  margin-bottom:22px;
}
.hero h1 em{
  color:var(--accent);font-style:normal;
  position:relative;display:inline-block;
}

.hero-sub{
  font-size:17px;color:var(--text-light);
  line-height:1.75;margin-bottom:34px;max-width:420px;font-weight:400;
}
.hero-actions{display:flex;align-items:center;gap:14px;flex-wrap:wrap;}
.hero-scroll{
  position:absolute;bottom:36px;left:50%;transform:translateX(-50%);
  display:flex;flex-direction:column;align-items:center;gap:6px;
  color:var(--text-muted);font-size:11px;letter-spacing:1.5px;text-transform:uppercase;font-weight:600;
}
.scroll-line{width:1px;height:36px;background:linear-gradient(to bottom,var(--choco-200),transparent);animation:scrollPulse 2s ease-in-out infinite;}
@keyframes scrollPulse{0%,100%{opacity:1;}50%{opacity:0.35;}}

/* ═══════════════════════════════════════════
   MARQUEE BANNER
═══════════════════════════════════════════ */
.marquee-wrap{background:var(--accent);padding:13px 0;overflow:hidden;}
.marquee-track{display:flex;width:max-content;animation:marqueeScroll 35s linear infinite;}
.marquee-item{
  display:flex;align-items:center;gap:14px;
  padding:0 28px;white-space:nowrap;
  font-size:13px;font-weight:600;color:#fff;letter-spacing:0.3px;
}
.marquee-sep{width:5px;height:5px;border-radius:50%;background:rgba(255,255,255,0.35);flex-shrink:0;}
@keyframes marqueeScroll{from{transform:translateX(0);}to{transform:translateX(-50%);}}

/* ═══════════════════════════════════════════
   CATEGORIES BENTO
═══════════════════════════════════════════ */
.categories-section{padding:96px 0;}
.cat-header{margin-bottom:52px;}
.bento-grid{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  grid-template-rows:280px 200px;
  gap:14px;
}
.bento-card{
  position:relative;overflow:hidden;
  border-radius:var(--radius);cursor:pointer;
  background:var(--choco-700);
}
.bento-card img{
  width:100%;height:100%;object-fit:cover;
  transition:transform 0.65s var(--ease);
}
.bento-card::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(to top,rgba(26,12,2,0.72) 0%,rgba(26,12,2,0.08) 55%,transparent 100%);
  transition:opacity 0.3s;
}
.bento-card:hover img{transform:scale(1.07);}
.bento-card:hover::after{opacity:1.2;}
.bento-card.tall{grid-row:span 2;}
.bento-label{
  position:absolute;bottom:0;left:0;right:0;z-index:2;
  padding:22px 24px;
}
.bento-label h3{font-size:20px;font-weight:700;color:#fff;margin-bottom:3px;letter-spacing:-0.3px;}
.bento-label p{font-size:12px;color:rgba(255,255,255,0.68);font-weight:400;}
.bento-arrow{
  position:absolute;top:18px;right:18px;z-index:2;
  width:34px;height:34px;border-radius:50%;
  background:rgba(255,255,255,0.15);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;
  transform:scale(0);transition:transform 0.3s var(--ease-bounce);
}
.bento-card:hover .bento-arrow{transform:scale(1);}

/* ═══════════════════════════════════════════
   MENU SECTION — SIDEBAR LAYOUT
═══════════════════════════════════════════ */
.menu-section{padding:96px 0;background:var(--off-white);}
.menu-header-top{margin-bottom:52px;}
.menu-layout{
  display:grid;
  grid-template-columns:220px 1fr;
  gap:48px;
  align-items:start;
}
/* SIDEBAR */
.menu-sidebar{
  position:sticky;top:100px;
}
.sidebar-label{
  font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;
  color:var(--text-muted);margin-bottom:10px;padding:0 12px;
}
.sidebar-filters{display:flex;flex-direction:column;gap:2px;}
.sidebar-filter{
  display:flex;align-items:center;gap:12px;
  padding:11px 14px;border-radius:var(--radius-sm);
  font-size:14px;font-weight:500;color:var(--text-light);
  transition:all 0.2s;cursor:pointer;text-align:left;width:100%;
  border:1px solid transparent;
}
.sidebar-filter svg{flex-shrink:0;opacity:0.55;transition:opacity 0.2s;}
.sidebar-filter:hover{background:#fff;color:var(--text-dark);}
.sidebar-filter:hover svg{opacity:0.8;}
.sidebar-filter.active{
  background:#fff;color:var(--accent);font-weight:700;
  border-color:var(--choco-100);
  box-shadow:0 2px 12px rgba(107,52,16,0.07);
}
.sidebar-filter.active svg{opacity:1;stroke:var(--accent);}
.sidebar-count{
  margin-left:auto;font-size:11px;font-weight:700;
  background:var(--choco-50);color:var(--text-muted);
  padding:2px 7px;border-radius:20px;
}
.sidebar-filter.active .sidebar-count{background:var(--accent);color:#fff;}
.sidebar-divider{height:1px;background:var(--border);margin:12px 0;}

/* PRODUCTS RIGHT SIDE */
.menu-content{}
.category-group{margin-bottom:52px;}
.category-group:last-child{margin-bottom:0;}
.category-group-header{
  display:flex;align-items:center;gap:14px;
  margin-bottom:24px;padding-bottom:14px;
  border-bottom:1px solid var(--border);
}
.cat-group-icon{
  width:38px;height:38px;border-radius:10px;
  background:var(--choco-50);border:1px solid var(--choco-100);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
.cat-group-title{font-size:20px;font-weight:800;color:var(--text-dark);letter-spacing:-0.4px;}
.cat-group-count{font-size:13px;color:var(--text-muted);font-weight:500;margin-left:auto;}
.products-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
}
.product-card{
  border-radius:var(--radius);
  overflow:hidden;
  transition:transform 0.3s var(--ease),box-shadow 0.3s;
  cursor:pointer;
  position:relative;
}

.product-img-wrap{
  position:relative;aspect-ratio:1/1;overflow:hidden;
  background:var(--choco-50);
}
.product-img-wrap img{
  width:100%;height:100%;object-fit:cover;
  transition:transform 0.55s var(--ease);
}
.product-card:hover .product-img-wrap img{transform:scale(1.09);}
.product-badge{
  position:absolute;top:10px;left:10px;z-index:2;
  font-size:10px;font-weight:700;letter-spacing:0.8px;text-transform:uppercase;
  padding:4px 9px;border-radius:50px;
}
.product-badge.popular{background:var(--accent);color:#fff;}
.product-badge.new{background:#22A35A;color:#fff;}
.fav-btn{
  position:absolute;top:10px;right:10px;z-index:3;
  width:32px;height:32px;border-radius:50%;
  background:rgba(255,255,255,0.92);backdrop-filter:blur(6px);
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;
}
.fav-btn:hover{background:#fff;transform:scale(1.1);}
.fav-btn.active svg{fill:var(--accent);stroke:var(--accent);}
.quick-add{
  position:absolute;bottom:10px;left:10px;right:10px;z-index:2;
  background:rgba(255,255,255,0.95);backdrop-filter:blur(8px);
  border-radius:50px;padding:10px 16px;
  display:flex;justify-content:center;align-items:center;gap:6px;
  font-size:13px;font-weight:700;color:var(--accent);
  transform:translateY(60px);opacity:0;
  transition:all 0.3s var(--ease);
  border:1.5px solid var(--border);
}
.product-card:hover .quick-add{transform:translateY(0);opacity:1;}
.quick-add:hover{background:var(--accent);color:#fff;border-color:var(--accent);}
.product-info{padding:14px 0;}
.product-name{font-size:14px;font-weight:700;color:var(--text-dark);margin-bottom:3px;line-height:1.3;}
.product-desc{font-size:12px;color:var(--text-muted);margin-bottom:10px;line-height:1.5;}
.product-footer{display:flex;justify-content:space-between;align-items:center;}
.product-price{font-size:17px;font-weight:800;color:var(--accent);}
.product-price span{font-size:11px;font-weight:400;color:var(--text-muted);}
.product-rating{display:flex;align-items:center;gap:3px;font-size:11px;color:var(--text-muted);}
.stars-svg{color:#F59E0B;}

/* Mobile sticky filter tabs */
.mobile-filter-bar{
  display:none;
  position:sticky;top:66px;z-index:500;
  background:var(--off-white);
  border-bottom:1px solid var(--border);
  padding:10px 16px;
  overflow-x:auto;
  gap:8px;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.mobile-filter-bar::-webkit-scrollbar{display:none;}
.mobile-filter-tab{
  display:inline-flex;align-items:center;gap:6px;
  padding:8px 14px;border-radius:50px;
  font-size:12px;font-weight:600;color:var(--text-light);
  border:1.5px solid var(--border);background:#fff;
  white-space:nowrap;flex-shrink:0;transition:all 0.2s;cursor:pointer;
}
.mobile-filter-tab.active{background:var(--accent);border-color:var(--accent);color:#fff;}

/* ═══════════════════════════════════════════
   ORDER MODAL — SEAMLESS SCROLLBAR
═══════════════════════════════════════════ */
.overlay{
  position:fixed;inset:0;background:rgba(26,12,2,0.55);
  backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
  z-index:2000;opacity:0;visibility:hidden;
  transition:all 0.4s var(--ease);
  display:flex;align-items:center;justify-content:center;padding:20px;
}
.overlay.open{opacity:1;visibility:visible;}
.order-modal{
  background:#fff;border-radius:24px;
  width:100%;max-width:540px;
  max-height:88vh;
  /* KEY: overflow hidden on wrapper, scroll on inner */
  overflow:hidden;
  display:flex;flex-direction:column;
  transform:scale(0.94) translateY(20px);
  transition:transform 0.4s var(--ease);
  box-shadow:0 40px 100px rgba(26,12,2,0.28);
}
.overlay.open .order-modal{transform:scale(1) translateY(0);}
.order-modal-img{
  width:100%;height:210px;position:relative;overflow:hidden;
  flex-shrink:0;
}
.order-modal-img img{width:100%;height:100%;object-fit:cover;}
.order-modal-img::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(to top,rgba(0,0,0,0.35),transparent 60%);
}
.modal-close-btn{
  position:absolute;top:14px;right:14px;z-index:3;
  width:34px;height:34px;border-radius:50%;
  background:rgba(255,255,255,0.92);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;
  color:var(--text-dark);transition:all 0.2s;
}
.modal-close-btn:hover{background:#fff;transform:scale(1.05);}
/* The scrollable body — scrollbar stays inside the rounded modal */
.order-modal-scroll{
  flex:1;overflow-y:auto;
  /* Clip scrollbar inside radius */
  border-radius:0 0 24px 24px;
}
.order-modal-scroll::-webkit-scrollbar{width:4px;}
.order-modal-scroll::-webkit-scrollbar-track{background:transparent;}
.order-modal-scroll::-webkit-scrollbar-thumb{background:var(--choco-100);border-radius:10px;}
.order-modal-scroll::-webkit-scrollbar-thumb:hover{background:var(--choco-200);}
.order-modal-body{padding:22px 24px 28px;}
.order-product-name{font-size:21px;font-weight:800;color:var(--text-dark);margin-bottom:3px;letter-spacing:-0.4px;}
.order-product-sub{font-size:13px;color:var(--text-light);margin-bottom:20px;line-height:1.5;}
.order-section{margin-bottom:22px;}
.order-section-title{
  font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:1.2px;
  color:var(--text-mid);margin-bottom:11px;
  display:flex;justify-content:space-between;align-items:center;
}
.order-section-badge{
  font-size:10px;font-weight:600;text-transform:none;letter-spacing:0;
  background:var(--choco-50);color:var(--text-muted);
  padding:2px 8px;border-radius:20px;
}
/* Coffee type */
.coffee-type-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.coffee-type-option{
  border:2px solid var(--border);border-radius:var(--radius-sm);
  padding:13px 15px;cursor:pointer;transition:all 0.2s;
}
.coffee-type-option.selected{border-color:var(--accent);background:var(--choco-50);}
.coffee-type-option:hover:not(.selected){border-color:var(--choco-200);}
.ct-icon{margin-bottom:6px;}
.ct-label{font-size:14px;font-weight:700;color:var(--text-dark);}
.ct-sub{font-size:11px;color:var(--text-muted);margin-top:1px;}
/* Sugar */
.sugar-row{display:flex;align-items:center;gap:10px;}
.sugar-btn{
  width:34px;height:34px;border-radius:50%;
  background:var(--off-white);color:var(--text-dark);
  font-size:18px;font-weight:700;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;flex-shrink:0;border:1px solid var(--border);
}
.sugar-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent);}
.sugar-track{flex:1;height:5px;background:var(--border);border-radius:3px;position:relative;}
.sugar-fill{height:100%;background:var(--accent);border-radius:3px;transition:width 0.25s var(--ease);}
.sugar-label{font-size:13px;font-weight:700;color:var(--accent);min-width:72px;text-align:right;}
/* Extras */
.extras-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.extra-option{
  display:flex;align-items:center;gap:9px;
  border:1.5px solid var(--border);border-radius:var(--radius-sm);
  padding:10px 12px;cursor:pointer;transition:all 0.2s;
}
.extra-option.checked{border-color:var(--accent);background:var(--choco-50);}
.extra-check{
  width:19px;height:19px;border-radius:5px;
  border:1.5px solid var(--border);flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;
}
.extra-option.checked .extra-check{background:var(--accent);border-color:var(--accent);}
.extra-name{font-size:12px;font-weight:600;color:var(--text-dark);}
.extra-price{font-size:11px;color:var(--text-muted);}
/* Size */
.size-options{display:flex;gap:8px;}
.size-btn{
  flex:1;padding:11px 6px;border:1.5px solid var(--border);border-radius:var(--radius-sm);
  font-size:13px;font-weight:700;color:var(--text-mid);
  transition:all 0.2s;text-align:center;cursor:pointer;
}
.size-btn small{display:block;font-size:10px;font-weight:400;color:var(--text-muted);margin-top:2px;}
.size-btn.selected,.size-btn:hover{border-color:var(--accent);background:var(--choco-50);color:var(--accent);}
/* Qty */
.qty-row{display:flex;align-items:center;gap:14px;}
.qty-btn{
  width:38px;height:38px;border-radius:50%;
  background:var(--off-white);color:var(--text-dark);
  font-size:20px;font-weight:600;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;border:1px solid var(--border);
}
.qty-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent);}
.qty-val{font-size:20px;font-weight:800;color:var(--text-dark);min-width:28px;text-align:center;}
/* Notes */
.notes-input{
  width:100%;padding:11px 14px;
  border:1.5px solid var(--border);border-radius:var(--radius-sm);
  font-size:13px;color:var(--text-dark);
  outline:none;resize:none;
  transition:border-color 0.2s;
}
.notes-input:focus{border-color:var(--accent);}
/* Add button */
.add-btn{
  width:100%;padding:15px;border-radius:50px;
  background:var(--accent);color:#fff;
  font-size:15px;font-weight:700;letter-spacing:0.2px;
  transition:all 0.3s var(--ease);
  display:flex;justify-content:center;align-items:center;gap:12px;
  margin-top:22px;
}
.add-btn:hover{background:var(--accent-dark);}
.add-btn-sep{width:1px;height:18px;background:rgba(255,255,255,0.3);}

/* ═══════════════════════════════════════════
   VIDEO SECTION
═══════════════════════════════════════════ */
.video-section{padding:96px 0;background:var(--cream);}
.video-layout{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center;}
.video-frame{
  position:relative;border-radius:24px;overflow:hidden;
  aspect-ratio:4/3;background:var(--choco-700);
  box-shadow:var(--shadow-lg);cursor:pointer;
}
.video-thumb{width:100%;height:100%;object-fit:cover;display:block;}
.video-play-overlay{
  position:absolute;inset:0;z-index:2;
  display:flex;align-items:center;justify-content:center;
  background:rgba(26,12,2,0.22);
  transition:background 0.3s;
}
.video-frame:hover .video-play-overlay{background:rgba(26,12,2,0.38);}
.play-circle{
  width:78px;height:78px;border-radius:50%;
  background:rgba(255,255,255,0.93);backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;
  transition:transform 0.3s var(--ease-bounce),box-shadow 0.3s;
  box-shadow:0 8px 32px rgba(0,0,0,0.25);
}
.video-frame:hover .play-circle{transform:scale(1.1);box-shadow:0 14px 40px rgba(0,0,0,0.3);}
.video-overlay-tag{
  position:absolute;bottom:20px;left:20px;z-index:3;
  background:rgba(255,255,255,0.95);backdrop-filter:blur(8px);
  border-radius:50px;padding:9px 18px;
  display:flex;align-items:center;gap:10px;
  box-shadow:0 4px 16px rgba(0,0,0,0.1);
}
.live-dot{width:8px;height:8px;border-radius:50%;background:#22A35A;animation:livePulse 2s ease-in-out infinite;}
@keyframes livePulse{0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.5;transform:scale(1.4);}}
.overlay-tag-text{font-size:12px;font-weight:700;color:var(--text-dark);}
.video-text .section-title{margin-bottom:14px;}
.video-features{margin-top:30px;display:flex;flex-direction:column;gap:18px;}
.vfeature{display:flex;align-items:flex-start;gap:14px;}
.vfeature-icon{
  width:44px;height:44px;border-radius:11px;flex-shrink:0;
  background:var(--choco-50);border:1px solid var(--choco-100);
  display:flex;align-items:center;justify-content:center;
}
.vfeature-text h4{font-size:14px;font-weight:700;color:var(--text-dark);margin-bottom:2px;}
.vfeature-text p{font-size:13px;color:var(--text-light);line-height:1.6;}

/* VIDEO PLAYER MODAL */
.video-modal-overlay{
  position:fixed;inset:0;z-index:5000;
  background:rgba(0,0,0,0.92);
  opacity:0;visibility:hidden;
  transition:all 0.35s var(--ease);
  display:flex;align-items:center;justify-content:center;
  padding:24px;
}
.video-modal-overlay.open{opacity:1;visibility:visible;}
.video-modal-inner{
  position:relative;width:100%;max-width:900px;
  transform:scale(0.94);transition:transform 0.4s var(--ease);
}
.video-modal-overlay.open .video-modal-inner{transform:scale(1);}
.video-modal-close{
  position:absolute;top:-48px;right:0;
  display:flex;align-items:center;gap:8px;
  color:rgba(255,255,255,0.7);font-size:14px;font-weight:600;
  transition:color 0.2s;cursor:pointer;background:none;border:none;font-family:var(--font);
}
.video-modal-close:hover{color:#fff;}
.video-embed-wrap{
  width:100%;aspect-ratio:16/9;
  border-radius:16px;overflow:hidden;background:#000;
  display:flex;align-items:center;justify-content:center;
}
.video-embed-wrap video{width:100%;height:100%;object-fit:cover;}
.video-placeholder-inner{
  text-align:center;color:rgba(255,255,255,0.5);
}
.video-placeholder-inner svg{margin:0 auto 16px;}
.video-placeholder-inner p{font-size:15px;font-weight:600;}
.video-placeholder-inner span{font-size:13px;display:block;margin-top:4px;opacity:0.6;}

/* ═══════════════════════════════════════════
   BRANCHES
═══════════════════════════════════════════ */
.branches-section{padding:80px 0;background:var(--off-white);}
.branches-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:48px;}
.branch-card{
  background:#fff;border-radius:var(--radius);
  padding:28px 28px 24px;border:1px solid var(--border);
  display:flex;gap:20px;align-items:flex-start;
  transition:all 0.3s var(--ease);
}
.branch-card:hover{box-shadow:var(--shadow-lg);transform:translateY(-4px);}
.branch-icon{
  width:52px;height:52px;border-radius:13px;flex-shrink:0;
  background:var(--choco-50);border:1px solid var(--choco-100);
  display:flex;align-items:center;justify-content:center;
}
.branch-info h3{font-size:17px;font-weight:700;color:var(--text-dark);margin-bottom:4px;letter-spacing:-0.2px;}
.branch-address{font-size:13px;color:var(--text-light);margin-bottom:12px;line-height:1.6;}
.branch-hours{display:flex;gap:7px;flex-wrap:wrap;}
.hour-pill{
  background:var(--choco-50);border:1px solid var(--choco-100);
  font-size:11px;font-weight:600;color:var(--accent);
  padding:3px 9px;border-radius:50px;
}
.branch-actions{display:flex;gap:9px;margin-top:14px;flex-wrap:wrap;}
.branch-btn{
  padding:8px 16px;border-radius:50px;
  font-size:12px;font-weight:700;
  border:1.5px solid var(--border);color:var(--text-mid);
  transition:all 0.2s;cursor:pointer;
}
.branch-btn:hover,.branch-btn.primary{background:var(--accent);border-color:var(--accent);color:#fff;}

/* ═══════════════════════════════════════════
   APP DOWNLOAD SECTION (desktop only)
═══════════════════════════════════════════ */
.app-section{
  padding:96px 0;background:var(--choco-700);
  overflow:hidden;position:relative;
}
.app-section::before{
  content:'';position:absolute;top:-120px;right:-120px;
  width:500px;height:500px;border-radius:50%;
  background:rgba(107,52,16,0.25);
  pointer-events:none;
}
.app-section::after{
  content:'';position:absolute;bottom:-80px;left:200px;
  width:300px;height:300px;border-radius:50%;
  background:rgba(181,118,61,0.1);
  pointer-events:none;
}
.app-layout{
  display:grid;grid-template-columns:1fr 480px;
  gap:60px;align-items:center;position:relative;z-index:1;
}
.app-text .section-label{color:var(--choco-200);}
.app-text .section-label::before{background:var(--choco-200);}
.app-text .section-title{color:#fff;}
.app-text .section-sub{color:rgba(255,255,255,0.6);max-width:400px;}
.app-badges{display:flex;gap:12px;margin-top:28px;flex-wrap:wrap;}
.app-badge{
  display:flex;align-items:center;gap:10px;
  background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.14);
  padding:11px 20px;border-radius:12px;color:#fff;
  transition:all 0.2s;cursor:pointer;
  backdrop-filter:blur(8px);
}
.app-badge:hover{background:rgba(255,255,255,0.14);border-color:rgba(255,255,255,0.25);}
.app-badge-text{text-align:left;}
.app-badge-text small{font-size:10px;opacity:0.6;display:block;letter-spacing:0.5px;text-transform:uppercase;}
.app-badge-text strong{font-size:15px;font-weight:700;}
.app-features{margin-top:28px;display:flex;flex-direction:column;gap:14px;}
.app-feature{display:flex;align-items:center;gap:10px;color:rgba(255,255,255,0.75);font-size:14px;}
.app-feature-check{
  width:22px;height:22px;border-radius:50%;
  background:rgba(107,52,16,0.6);border:1px solid var(--choco-300);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
/* PHONE MOCKUP */
.phone-mockup-wrap{
  display:flex;justify-content:center;align-items:flex-end;
  padding-top:20px;
}
.phone-mockup{
  position:relative;width:260px;flex-shrink:0;
  filter:drop-shadow(0 40px 60px rgba(0,0,0,0.5));
}
.phone-svg-outer{
  width:100%;
}
.phone-screen-content{
  position:absolute;
  top:5.5%;left:7.5%;
  width:85%;height:89%;
  border-radius:36px;
  overflow:hidden;background:var(--cream);
}
.phone-screen-img{width:100%;height:100%;object-fit:cover;}
.phone-screen-overlay{
  position:absolute;inset:0;
  background:linear-gradient(to bottom,rgba(250,247,242,0.0) 0%,rgba(250,247,242,0.95) 100%);
  display:flex;flex-direction:column;justify-content:flex-end;padding:16px;
}
.phone-ui-bar{
  background:#fff;border-radius:12px;padding:10px 12px;
  box-shadow:0 4px 20px rgba(107,52,16,0.12);
}
.phone-ui-title{font-size:11px;font-weight:800;color:var(--text-dark);}
.phone-ui-sub{font-size:9px;color:var(--text-muted);margin-bottom:6px;}
.phone-ui-btn{
  background:var(--accent);color:#fff;
  border-radius:50px;padding:6px 12px;
  font-size:10px;font-weight:700;display:inline-block;
}
@media(max-width:1000px){.app-section{display:none;}}

/* ═══════════════════════════════════════════
   NEWSLETTER
═══════════════════════════════════════════ */
.newsletter-section{padding:76px 0;background:var(--accent);}
.newsletter-inner{text-align:center;max-width:540px;margin:0 auto;}
.newsletter-inner .section-label{color:rgba(255,255,255,0.55);}
.newsletter-inner .section-label::before{background:rgba(255,255,255,0.4);}
.newsletter-inner h2{font-size:clamp(26px,3.5vw,40px);font-weight:800;color:#fff;margin-bottom:10px;letter-spacing:-0.8px;}
.newsletter-inner p{font-size:15px;color:rgba(255,255,255,0.7);margin-bottom:28px;}
.newsletter-form{display:flex;gap:10px;max-width:420px;margin:0 auto;}
.newsletter-input{
  flex:1;padding:13px 18px;border-radius:50px;border:none;
  font-size:13px;font-family:var(--font);outline:none;
  background:rgba(255,255,255,0.12);color:#fff;
}
.newsletter-input::placeholder{color:rgba(255,255,255,0.45);}
.newsletter-input:focus{background:rgba(255,255,255,0.2);}
.newsletter-submit{
  padding:13px 24px;background:#fff;color:var(--accent);
  border-radius:50px;font-size:13px;font-weight:700;
  transition:all 0.2s;white-space:nowrap;
}
.newsletter-submit:hover{transform:scale(1.02);}

/* ═══════════════════════════════════════════
   FOOTER
═══════════════════════════════════════════ */
footer{background:var(--text-dark);color:rgba(255,255,255,0.55);padding:60px 0 30px;}
.footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:44px;margin-bottom:44px;}
.footer-logo-text{color:#fff;font-size:20px;font-weight:800;display:block;margin-bottom:10px;letter-spacing:-0.4px;}
.footer-logo-text span{color:var(--choco-200);}
.footer-tagline{font-size:13px;color:rgba(255,255,255,0.45);line-height:1.75;margin-bottom:18px;}
.social-links{display:flex;gap:8px;}
.social-link{
  width:36px;height:36px;border-radius:50%;
  background:rgba(255,255,255,0.07);
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;
}
.social-link:hover{background:var(--accent);}
.footer-col h4{font-size:11px;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:18px;}
.footer-col ul{display:flex;flex-direction:column;gap:9px;}
.footer-col ul a{font-size:13px;color:rgba(255,255,255,0.45);transition:color 0.2s;}
.footer-col ul a:hover{color:#fff;}
.footer-bottom{
  border-top:1px solid rgba(255,255,255,0.07);
  padding-top:22px;
  display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;
}
.footer-bottom p{font-size:12px;}
.footer-bottom-links{display:flex;gap:20px;}
.footer-bottom-links a{font-size:12px;color:rgba(255,255,255,0.35);transition:color 0.2s;}
.footer-bottom-links a:hover{color:#fff;}

/* ═══════════════════════════════════════════
   BOTTOM BAR
═══════════════════════════════════════════ */
.page-bottom-pad{height:var(--bottom-bar-h);}
.bottom-bar{
  position:fixed;bottom:0;left:0;right:0;z-index:800;
  background:rgba(255,255,255,0.97);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  border-top:1px solid var(--border);
  height:var(--bottom-bar-h);
  display:flex;align-items:center;justify-content:center;
  padding:0 20px;
  box-shadow:0 -4px 24px rgba(107,52,16,0.07);
}
.bottom-bar-inner{
  display:flex;align-items:center;justify-content:space-between;
  width:100%;max-width:960px;
  gap:16px;
}
.bottom-location{
  display:flex;align-items:center;gap:10px;cursor:pointer;
  padding:8px 12px;border-radius:12px;transition:background 0.2s;
  flex:1;min-width:0;
}
.bottom-location:hover{background:var(--choco-50);}
.location-pin-icon{
  width:36px;height:36px;border-radius:10px;
  background:var(--choco-50);border:1px solid var(--choco-100);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
.location-info{min-width:0;}
.location-label{font-size:10px;color:var(--text-muted);font-weight:700;letter-spacing:0.8px;text-transform:uppercase;display:block;}
.location-name{font-size:14px;font-weight:700;color:var(--text-dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;gap:4px;}
.loc-chevron{flex-shrink:0;}
.bottom-divider{width:1px;height:32px;background:var(--border);flex-shrink:0;}
.bottom-cart-btn{
  display:flex;align-items:center;gap:10px;
  background:var(--accent);color:#fff;
  padding:11px 22px;border-radius:50px;
  font-size:14px;font-weight:700;
  transition:all 0.2s;flex-shrink:0;
}
.bottom-cart-btn:hover{background:var(--accent-dark);}
.cart-icon-wrap{position:relative;display:flex;align-items:center;}
.cart-icon-badge{
  position:absolute;top:-7px;right:-7px;
  background:#fff;color:var(--accent);
  font-size:9px;font-weight:800;
  width:16px;height:16px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  border:1.5px solid var(--accent);
  line-height:1;
}

/* ═══════════════════════════════════════════
   CART SIDE PANEL
═══════════════════════════════════════════ */
.cart-overlay{
  position:fixed;inset:0;z-index:1800;
  background:rgba(26,12,2,0.45);backdrop-filter:blur(6px);
  opacity:0;visibility:hidden;transition:all 0.4s var(--ease);
}
.cart-overlay.open{opacity:1;visibility:visible;}
.cart-panel{
  position:absolute;top:0;right:0;
  width:100%;max-width:440px;height:100%;
  background:#fff;
  transform:translateX(100%);
  transition:transform 0.42s var(--ease);
  display:flex;flex-direction:column;
  box-shadow:-16px 0 50px rgba(26,12,2,0.12);
}
.cart-overlay.open .cart-panel{transform:translateX(0);}
.cart-panel-header{
  padding:22px 24px;display:flex;justify-content:space-between;align-items:center;
  border-bottom:1px solid var(--border);flex-shrink:0;
}
.cart-panel-title{font-size:19px;font-weight:800;color:var(--text-dark);letter-spacing:-0.3px;}
.cart-panel-close{
  width:34px;height:34px;border-radius:50%;background:var(--off-white);
  display:flex;align-items:center;justify-content:center;
  color:var(--text-dark);transition:all 0.2s;
}
.cart-panel-close:hover{background:var(--accent);color:#fff;}
.cart-panel-branch{
  padding:12px 24px;border-bottom:1px solid var(--border);
  background:var(--choco-50);flex-shrink:0;
}
.cart-branch-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.8px;color:var(--text-muted);margin-bottom:8px;display:block;}
.cart-branch-select{display:flex;gap:7px;}
.cart-branch-opt{
  flex:1;padding:8px;border:1.5px solid var(--border);border-radius:var(--radius-sm);
  background:#fff;font-size:12px;font-weight:700;color:var(--text-mid);
  text-align:center;transition:all 0.2s;cursor:pointer;
}
.cart-branch-opt.selected{border-color:var(--accent);background:var(--accent);color:#fff;}
.cart-panel-body{flex:1;overflow-y:auto;padding:16px 24px;}
.cart-panel-body::-webkit-scrollbar{width:4px;}
.cart-panel-body::-webkit-scrollbar-track{background:transparent;}
.cart-panel-body::-webkit-scrollbar-thumb{background:var(--choco-100);border-radius:10px;}
.cart-empty{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  height:100%;text-align:center;gap:10px;padding:40px 20px;
}
.cart-empty-icon{opacity:0.4;}
.cart-empty p{font-size:15px;font-weight:600;color:var(--text-dark);}
.cart-empty small{font-size:13px;color:var(--text-muted);}
.cart-item-row{
  display:flex;gap:12px;align-items:flex-start;
  padding:14px 0;border-bottom:1px solid var(--border);
}
.cart-item-img{
  width:68px;height:68px;border-radius:10px;overflow:hidden;flex-shrink:0;
  background:var(--choco-50);
}
.cart-item-img img{width:100%;height:100%;object-fit:cover;}
.cart-item-details{flex:1;min-width:0;}
.cart-item-name{font-size:13px;font-weight:700;color:var(--text-dark);margin-bottom:2px;}
.cart-item-customization{font-size:11px;color:var(--text-muted);margin-bottom:8px;line-height:1.4;}
.cart-item-actions{display:flex;justify-content:space-between;align-items:center;}
.cart-qty-ctrl{display:flex;align-items:center;gap:7px;}
.cart-qty-btn{
  width:26px;height:26px;border-radius:50%;
  background:var(--off-white);color:var(--text-dark);
  font-size:15px;font-weight:700;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;
}
.cart-qty-btn:hover{background:var(--accent);color:#fff;}
.cart-qty-num{font-size:13px;font-weight:700;color:var(--text-dark);}
.cart-item-price{font-size:14px;font-weight:800;color:var(--accent);}
.cart-remove{font-size:11px;color:var(--text-muted);text-decoration:underline;transition:color 0.2s;margin-top:4px;display:block;background:none;border:none;cursor:pointer;font-family:var(--font);padding:0;}
.cart-remove:hover{color:#c0392b;}
.cart-panel-footer{
  padding:18px 24px;border-top:1px solid var(--border);background:var(--off-white);flex-shrink:0;
}
.cart-summary{margin-bottom:14px;}
.cart-summary-row{
  display:flex;justify-content:space-between;
  font-size:13px;color:var(--text-light);margin-bottom:7px;
}
.cart-summary-row.total{
  font-size:17px;font-weight:800;color:var(--text-dark);
  padding-top:8px;border-top:1px solid var(--border);margin-top:8px;
}
.checkout-btn{
  width:100%;padding:14px;border-radius:50px;
  background:var(--accent);color:#fff;
  font-size:14px;font-weight:700;
  transition:all 0.3s;
  display:flex;justify-content:center;align-items:center;gap:8px;
}
.checkout-btn:hover{background:var(--accent-dark);}

/* ═══════════════════════════════════════════
   CHECKOUT MODAL
═══════════════════════════════════════════ */
.checkout-overlay{
  position:fixed;inset:0;background:rgba(26,12,2,0.65);
  backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);
  z-index:3000;opacity:0;visibility:hidden;
  transition:all 0.4s var(--ease);
  display:flex;align-items:center;justify-content:center;padding:20px;
}
.checkout-overlay.open{opacity:1;visibility:visible;}
.checkout-modal{
  background:#fff;border-radius:24px;
  width:100%;max-width:500px;
  max-height:90vh;overflow-y:auto;
  transform:scale(0.93);transition:transform 0.4s var(--ease);
  box-shadow:0 40px 100px rgba(26,12,2,0.3);
}
.checkout-modal::-webkit-scrollbar{width:4px;}
.checkout-modal::-webkit-scrollbar-track{background:transparent;}
.checkout-modal::-webkit-scrollbar-thumb{background:var(--choco-100);border-radius:10px;}
.checkout-overlay.open .checkout-modal{transform:scale(1);}
.checkout-modal-header{
  padding:22px 26px;border-bottom:1px solid var(--border);
  display:flex;justify-content:space-between;align-items:center;
  position:sticky;top:0;background:#fff;z-index:2;border-radius:24px 24px 0 0;
}
.checkout-modal-header h2{font-size:19px;font-weight:800;color:var(--text-dark);letter-spacing:-0.3px;}
.checkout-modal-body{padding:24px 26px 28px;}
.form-group{margin-bottom:14px;}
.form-group label{
  display:block;font-size:11px;font-weight:700;
  text-transform:uppercase;letter-spacing:0.8px;
  color:var(--text-mid);margin-bottom:6px;
}
.form-input{
  width:100%;padding:12px 14px;
  border:1.5px solid var(--border);border-radius:var(--radius-sm);
  font-size:13px;color:var(--text-dark);
  font-family:var(--font);outline:none;
  transition:border-color 0.2s;background:#fff;
}
.form-input:focus{border-color:var(--accent);}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.form-divider{height:1px;background:var(--border);margin:18px 0;}
.form-section-label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.8px;color:var(--text-mid);margin-bottom:12px;display:block;}
.payment-icons{display:flex;gap:7px;margin-bottom:14px;}
.pay-icon{
  display:flex;align-items:center;gap:8px;
  padding:9px 14px;border:1.5px solid var(--border);border-radius:var(--radius-sm);
  font-size:13px;font-weight:600;color:var(--text-mid);
  cursor:pointer;transition:all 0.2s;background:#fff;
}
.pay-icon:hover,.pay-icon.active{border-color:var(--accent);background:var(--choco-50);color:var(--accent);}
.order-submit{
  width:100%;padding:15px;background:var(--accent);color:#fff;
  border-radius:50px;font-size:14px;font-weight:700;
  transition:all 0.3s;margin-top:18px;display:flex;align-items:center;justify-content:center;gap:8px;
}
.order-submit:hover{background:var(--accent-dark);}

/* ═══════════════════════════════════════════
   BRANCH SHEET
═══════════════════════════════════════════ */
.branch-select-overlay{
  position:fixed;inset:0;background:rgba(26,12,2,0.5);
  backdrop-filter:blur(8px);z-index:2500;
  opacity:0;visibility:hidden;transition:all 0.3s;
  display:flex;align-items:flex-end;justify-content:center;
}
.branch-select-overlay.open{opacity:1;visibility:visible;}
.branch-select-sheet{
  background:#fff;border-radius:24px 24px 0 0;
  width:100%;max-width:540px;padding:24px 24px 32px;
  transform:translateY(100%);transition:transform 0.4s var(--ease);
}
.branch-select-overlay.open .branch-select-sheet{transform:translateY(0);}
.sheet-handle{width:36px;height:4px;background:var(--border);border-radius:2px;margin:0 auto 22px;}
.sheet-title{font-size:19px;font-weight:800;color:var(--text-dark);margin-bottom:6px;letter-spacing:-0.3px;}
.sheet-sub{font-size:13px;color:var(--text-muted);margin-bottom:20px;}
.sheet-branch-opts{display:flex;flex-direction:column;gap:10px;}
.sheet-branch-card{
  display:flex;gap:14px;align-items:center;
  border:1.5px solid var(--border);border-radius:var(--radius-sm);
  padding:14px;cursor:pointer;transition:all 0.2s;
}
.sheet-branch-card.selected{border-color:var(--accent);background:var(--choco-50);}
.sheet-branch-card:hover{border-color:var(--accent-light);}
.sheet-branch-icon{
  width:42px;height:42px;border-radius:10px;
  background:var(--choco-50);border:1px solid var(--choco-100);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
}
.sheet-branch-info h4{font-size:14px;font-weight:700;color:var(--text-dark);}
.sheet-branch-info p{font-size:12px;color:var(--text-muted);}
.sheet-selected-mark{margin-left:auto;color:var(--accent);opacity:0;flex-shrink:0;}
.sheet-branch-card.selected .sheet-selected-mark{opacity:1;}
.sheet-confirm{
  width:100%;padding:13px;background:var(--accent);color:#fff;
  border-radius:50px;font-size:14px;font-weight:700;margin-top:18px;transition:all 0.2s;
}
.sheet-confirm:hover{background:var(--accent-dark);}

/* MOBILE NAV */
.mobile-nav{
  position:fixed;inset:0;z-index:1500;
  background:var(--cream);
  transform:translateX(-100%);transition:transform 0.4s var(--ease);
  padding:80px 28px 36px;display:flex;flex-direction:column;
}
.mobile-nav.open{transform:translateX(0);}
.mobile-nav-close{
  position:absolute;top:22px;right:22px;
  width:38px;height:38px;border-radius:50%;
  background:var(--off-white);display:flex;align-items:center;justify-content:center;
  color:var(--text-dark);
}
.mobile-nav-links{display:flex;flex-direction:column;gap:6px;flex:1;}
.mobile-nav-links a{
  font-size:26px;font-weight:800;color:var(--text-dark);
  padding:10px 0;border-bottom:1px solid var(--border);
  transition:color 0.2s;display:flex;justify-content:space-between;align-items:center;
}
.mobile-nav-links a:hover{color:var(--accent);}
.mobile-nav-footer{padding-top:22px;border-top:1px solid var(--border);}
.mobile-nav-footer p{font-size:12px;color:var(--text-muted);}

/* TOAST */
.toast{
  position:fixed;bottom:90px;left:50%;transform:translateX(-50%) translateY(80px);
  background:var(--choco-700);color:#fff;
  padding:12px 22px;border-radius:50px;
  font-size:13px;font-weight:600;
  z-index:5000;opacity:0;transition:all 0.4s var(--ease-bounce);
  box-shadow:0 8px 24px rgba(26,12,2,0.25);
  white-space:nowrap;pointer-events:none;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

/* ═══════════════════════════════════════════
   RESPONSIVE
═══════════════════════════════════════════ */
@media(max-width:1100px){
  .products-grid{grid-template-columns:repeat(3,1fr);}
  .footer-grid{grid-template-columns:1fr 1fr;gap:28px;}
  .app-layout{grid-template-columns:1fr 380px;}
}
@media(max-width:900px){
  header{padding:14px 20px;}
  header.scrolled{padding:12px 20px;}
  .container{padding:0 20px;}
  .nav-links{display:none;}
  .menu-toggle{display:flex;}
  .hero-bg{width:100%;opacity:0.25;border-radius:0;}
  .hero-bg::after{background:linear-gradient(to bottom,rgba(250,247,242,0.85),rgba(250,247,242,0.98));}
  .hero-content{padding:100px 0 60px;max-width:100%;}
  .hero h1{font-size:44px;letter-spacing:-1.5px;}
  .bento-grid{grid-template-columns:1fr 1fr;grid-template-rows:auto;}
  .bento-card.tall{grid-row:span 1;}
  .bento-card{height:210px;}
  .video-layout{grid-template-columns:1fr;gap:36px;}
  .menu-sidebar{display:none;}
  .menu-layout{grid-template-columns:1fr;}
  .mobile-filter-bar{display:flex;}
  .products-grid{grid-template-columns:repeat(3,1fr);}
  .branches-grid{grid-template-columns:1fr;}
  .footer-grid{grid-template-columns:1fr 1fr;}
  .app-section{display:none;}
  .testimonials-grid{grid-template-columns:1fr 1fr;}
}
@media(max-width:640px){
  .container{padding:0 16px;}
  header{padding:12px 16px;}
  .hero h1{font-size:34px;letter-spacing:-1px;}
  .hero-sub{font-size:15px;}
  .hero-actions{flex-direction:column;align-items:flex-start;}
  .bento-grid{grid-template-columns:1fr;}
  .products-grid{grid-template-columns:repeat(2,1fr);gap:12px;}
  .footer-grid{grid-template-columns:1fr;}
  .newsletter-form{flex-direction:column;}
  .newsletter-submit{text-align:center;}
  .cart-panel{max-width:100%;}
  .branch-card{flex-direction:column;gap:12px;}
  .form-row{grid-template-columns:1fr;}
}
@media(max-width:420px){
  .products-grid{grid-template-columns:1fr 1fr;}
  .hero h1{font-size:30px;}
}
</style>
</head>
<body>

<!-- ████ HEADER ████ -->
<header id="mainHeader">
  <div class="header-left">
    <div class="logo-wrap">
      <div class="logo-icon">
        <img src="phoka.jpg" alt="Phoka Coffee Logo" style="height: 35px;">
      </div>
      
    </div>
    <nav class="nav-links">
      <a href="#menu">Menu</a>
      <a href="#experience">Our Story</a>
      <a href="#branches">Branches</a>
    </nav>
  </div>
  <div class="header-right">
    <!-- Favourites -->
    <button class="icon-btn" id="favBtn" title="Favourites" onclick="toggleFavPanel()">
      <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
        <path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/>
      </svg>
    </button>
    <!-- Cart -->
    <button class="icon-btn" onclick="openCart()" title="Cart" style="position:relative;">
      <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
        <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/>
        <line x1="3" y1="6" x2="21" y2="6"/>
        <path d="M16 10a4 4 0 01-8 0"/>
      </svg>
      <div class="badge" id="headerCartBadge" style="display:none;">0</div>
    </button>
    <!-- Mobile menu -->
    <button class="icon-btn menu-toggle" onclick="toggleMobileNav()" title="Menu">
      <svg width="20" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" viewBox="0 0 20 14">
        <line x1="0" y1="1" x2="20" y2="1"/>
        <line x1="0" y1="7" x2="20" y2="7"/>
        <line x1="0" y1="13" x2="20" y2="13"/>
      </svg>
    </button>
  </div>
</header>

<!-- ████ MOBILE NAV ████ -->
<div class="mobile-nav" id="mobileNav">
  <button class="mobile-nav-close" onclick="toggleMobileNav()">
    <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 16 16"><path d="M2 2l12 12M14 2L2 14"/></svg>
  </button>
  <nav class="mobile-nav-links">
    <a href="#menu" onclick="toggleMobileNav()">Menu <span style="opacity:0.4;">›</span></a>
    <a href="#experience" onclick="toggleMobileNav()">Our Story <span style="opacity:0.4;">›</span></a>
    <a href="#branches" onclick="toggleMobileNav()">Branches <span style="opacity:0.4;">›</span></a>
    <a href="javascript:void(0)" onclick="toggleMobileNav();openCart()">Cart <span style="opacity:0.4;">›</span></a>
  </nav>
  <div class="mobile-nav-footer">
    <p>Crafted with soul since 2018</p>
  </div>
</div>

<!-- ████ HERO ████ -->
<section class="hero" id="home">
  <div class="hero-bg">
    <img src="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=1400&q=90" alt="Coffee atmosphere">
  </div>
  <div class="container">
    <div class="hero-content">
      <div class="hero-badge reveal">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        Freshly Brewed Daily
      </div>
      <h1 class="reveal" data-delay="1">Coffee that<br><em>moves</em> your soul</h1>
      <p class="hero-sub reveal" data-delay="2">Premium single-origin brews, handcrafted pastries, and a space that feels like home. Two branches across Johannesburg.</p>
      <div class="hero-actions reveal" data-delay="3">
        <a href="#menu" class="btn-primary">
          <svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"/></svg>
          Order Now
        </a>
        <a href="#experience" class="btn-secondary">Watch Our Story</a>
      </div>
    </div>
  </div>
  <div class="hero-scroll">
    <div class="scroll-line"></div>
    <span>Scroll</span>
  </div>
</section>

<!-- MARQUEE -->
<div class="marquee-wrap">
  <div class="marquee-track" id="marqueeTrack">
    <div class="marquee-item">Single Origin Coffee<span class="marquee-sep"></span></div>
    <div class="marquee-item">Freshly Baked Daily<span class="marquee-sep"></span></div>
    <div class="marquee-item">Artisan Cakes<span class="marquee-sep"></span></div>
    <div class="marquee-item">Nitro Cold Brews<span class="marquee-sep"></span></div>
    <div class="marquee-item">Cupcakes &amp; Muffins<span class="marquee-sep"></span></div>
    <div class="marquee-item">Plant Milk Options<span class="marquee-sep"></span></div>
    <div class="marquee-item">Ethiopian &amp; Colombian Blends<span class="marquee-sep"></span></div>
    <div class="marquee-item">Pick Up at Both Branches<span class="marquee-sep"></span></div>
    <div class="marquee-item">Single Origin Coffee<span class="marquee-sep"></span></div>
    <div class="marquee-item">Freshly Baked Daily<span class="marquee-sep"></span></div>
    <div class="marquee-item">Artisan Cakes<span class="marquee-sep"></span></div>
    <div class="marquee-item">Nitro Cold Brews<span class="marquee-sep"></span></div>
    <div class="marquee-item">Cupcakes &amp; Muffins<span class="marquee-sep"></span></div>
    <div class="marquee-item">Plant Milk Options<span class="marquee-sep"></span></div>
    <div class="marquee-item">Ethiopian &amp; Colombian Blends<span class="marquee-sep"></span></div>
    <div class="marquee-item">Pick Up at Both Branches<span class="marquee-sep"></span></div>
  </div>
</div>

<!-- ████ CATEGORIES BENTO ████ -->
<section class="categories-section">
  <div class="container">
    <div class="cat-header reveal">
      <div class="section-label">Browse by Category</div>
      <h2 class="section-title">Something for every craving</h2>
    </div>
    <div class="bento-grid">
      <div class="bento-card tall reveal-left" data-delay="1" onclick="filterMenu('coffee');document.getElementById('menu').scrollIntoView({behavior:'smooth'})">
        <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=800&q=85" alt="Hot Coffee">
        <div class="bento-label">
          <h3>Hot Coffee</h3>
          <p>Espresso, Cappuccino, Latte &amp; more</p>
        </div>
        <div class="bento-arrow">
          <svg width="14" height="14" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>
      <div class="bento-card reveal" data-delay="2" onclick="filterMenu('cold');document.getElementById('menu').scrollIntoView({behavior:'smooth'})">
        <img src="https://images.unsplash.com/photo-1461023058943-07fcbe16d735?auto=format&fit=crop&w=700&q=85" alt="Cold Brew">
        <div class="bento-label">
          <h3>Cold Brews &amp; Iced</h3>
          <p>Smooth &amp; refreshing</p>
        </div>
        <div class="bento-arrow">
          <svg width="14" height="14" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>
      <div class="bento-card reveal" data-delay="3" onclick="filterMenu('cake');document.getElementById('menu').scrollIntoView({behavior:'smooth'})">
        <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=700&q=85" alt="Cakes">
        <div class="bento-label">
          <h3>Signature Cakes</h3>
          <p>Layered &amp; handcrafted</p>
        </div>
        <div class="bento-arrow">
          <svg width="14" height="14" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>
      <div class="bento-card reveal-right" data-delay="2" onclick="filterMenu('pastry');document.getElementById('menu').scrollIntoView({behavior:'smooth'})">
        <img src="https://images.unsplash.com/photo-1486427944299-d1955d23e34d?auto=format&fit=crop&w=700&q=85" alt="Pastries">
        <div class="bento-label">
          <h3>Cupcakes &amp; Muffins</h3>
          <p>Baked fresh every morning</p>
        </div>
        <div class="bento-arrow">
          <svg width="14" height="14" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>
      <div class="bento-card reveal-right" data-delay="3" onclick="filterMenu('tea');document.getElementById('menu').scrollIntoView({behavior:'smooth'})">
        <img src="https://images.unsplash.com/photo-1547637589-f54c34f5d7a4?auto=format&fit=crop&w=700&q=85" alt="Teas">
        <div class="bento-label">
          <h3>Specialty Teas</h3>
          <p>Herbal, Chai &amp; Matcha</p>
        </div>
        <div class="bento-arrow">
          <svg width="14" height="14" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ████ MENU SECTION ████ -->
<section class="menu-section" id="menu">
  <!-- Mobile sticky filter bar -->
  <div class="mobile-filter-bar" id="mobileFilterBar">
    <button class="mobile-filter-tab active" onclick="filterMenu('all',this)">All</button>
    <button class="mobile-filter-tab" onclick="filterMenu('coffee',this)">Hot Coffee</button>
    <button class="mobile-filter-tab" onclick="filterMenu('cold',this)">Cold Brew</button>
    <button class="mobile-filter-tab" onclick="filterMenu('cake',this)">Cakes</button>
    <button class="mobile-filter-tab" onclick="filterMenu('pastry',this)">Pastries</button>
    <button class="mobile-filter-tab" onclick="filterMenu('tea',this)">Tea</button>
  </div>

  <div class="container">
    <div class="menu-header-top reveal">
      <div class="section-label">Our Menu</div>
      <h2 class="section-title">Made with love, served with pride</h2>
    </div>
    <div class="menu-layout">
      <!-- SIDEBAR -->
      <aside class="menu-sidebar">
        <div class="sidebar-label">Categories</div>
        <div class="sidebar-filters" id="sidebarFilters">
          <button class="sidebar-filter active" data-cat="all" onclick="filterMenu('all',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
            All Items
            <span class="sidebar-count" id="sc-all">20</span>
          </button>
          <button class="sidebar-filter" data-cat="coffee" onclick="filterMenu('coffee',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 3h14M6 3v2a6 6 0 0012 0V3"/><path d="M4 11h16M7 21h10M9 11v6M15 11v6"/></svg>
            Hot Coffee
            <span class="sidebar-count" id="sc-coffee">6</span>
          </button>
          <button class="sidebar-filter" data-cat="cold" onclick="filterMenu('cold',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M8 2v4M16 2v4M3 10h18M5 6h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2z"/></svg>
            Cold Brew &amp; Iced
            <span class="sidebar-count" id="sc-cold">4</span>
          </button>
          <button class="sidebar-filter" data-cat="cake" onclick="filterMenu('cake',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 21v-8a2 2 0 00-2-2H6a2 2 0 00-2 2v8"/><path d="M4 21h16M12 3v6M8 7l4-4 4 4"/></svg>
            Signature Cakes
            <span class="sidebar-count" id="sc-cake">4</span>
          </button>
          <button class="sidebar-filter" data-cat="pastry" onclick="filterMenu('pastry',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 2a5 5 0 015 5v1H7V7a5 5 0 015-5z"/><rect x="4" y="8" width="16" height="12" rx="2"/></svg>
            Cupcakes &amp; Muffins
            <span class="sidebar-count" id="sc-pastry">4</span>
          </button>
          <div class="sidebar-divider"></div>
          <button class="sidebar-filter" data-cat="tea" onclick="filterMenu('tea',this)">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M17 8h2a2 2 0 010 4h-2"/><path d="M5 8h12v8a4 4 0 01-4 4H9a4 4 0 01-4-4V8z"/></svg>
            Specialty Teas
            <span class="sidebar-count" id="sc-tea">4</span>
          </button>
        </div>
      </aside>

      <!-- PRODUCTS -->
      <main class="menu-content" id="menuContent">
        <!-- Rendered by JS -->
      </main>
    </div>
  </div>
</section>

<!-- ████ VIDEO SECTION ████ -->
<section class="video-section" id="experience">
  <div class="container">
    <div class="video-layout">
      <div class="video-frame reveal-left" onclick="openVideoModal()">
        <source src="https://www.pexels.com/download/video/2853788/" type="video/mp4">
        <img class="video-thumb" src="https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&w=900&q=85" alt="Our coffee shop">
        <div class="video-play-overlay">
          <div class="play-circle">
            <svg width="28" height="28" fill="var(--accent)" viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>
          </div>
        </div>
        <div class="video-overlay-tag">
          <div class="live-dot"></div>
          <span class="overlay-tag-text">Watch our story</span>
        </div>
      </div>
      <div class="video-text reveal-right">
        <div class="section-label">Our Story</div>
        <h2 class="section-title">Crafting moments that matter</h2>
        <p class="section-sub">Phoka Coffee was born from a simple belief — that great coffee changes how you feel. Every cup is a ritual, every bite tells a story.</p>
        <div class="video-features">
          <div class="vfeature reveal" data-delay="1">
            <div class="vfeature-icon">
              <svg width="20" height="20" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"/></svg>
            </div>
            <div class="vfeature-text">
              <h4>Ethically Sourced Beans</h4>
              <p>Direct trade with farmers in Ethiopia, Colombia &amp; Guatemala.</p>
            </div>
          </div>
          <div class="vfeature reveal" data-delay="2">
            <div class="vfeature-icon">
              <svg width="20" height="20" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            </div>
            <div class="vfeature-text">
              <h4>Award-Winning Baristas</h4>
              <p>Our team trains globally to bring you nothing short of perfection.</p>
            </div>
          </div>
          <div class="vfeature reveal" data-delay="3">
            <div class="vfeature-icon">
              <svg width="20" height="20" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
            </div>
            <div class="vfeature-text">
              <h4>Sustainable Practices</h4>
              <p>Compostable cups, zero food waste programs, solar-powered kitchens.</p>
            </div>
          </div>
        </div>
        <div style="margin-top:28px;">
          <a href="#branches" class="btn-primary">Visit Us Today</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- VIDEO MODAL -->
<div class="video-modal-overlay" id="videoModalOverlay" onclick="closeVideoOnBg(event)">
  <div class="video-modal-inner">
    <button class="video-modal-close" onclick="closeVideoModal()">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 16 16"><path d="M2 2l12 12M14 2L2 14"/></svg>
      Close
    </button>
    <div class="video-embed-wrap" id="videoEmbedWrap">
      <!-- Video goes here — replace src with your actual video file or YouTube embed -->
      <div class="video-placeholder-inner" style="padding:40px;">
        <svg width="56" height="56" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M15 10l4.553-2.069A1 1 0 0121 8.87v6.26a1 1 0 01-1.447.894L15 14M3 8a2 2 0 012-2h8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"/></svg>
        <p>Your video will play here</p>
        <span>Replace this placeholder with your video file or embed</span>
      </div>
      <!-- Example: uncomment and set your video source -->
      <!-- <video controls autoplay style="width:100%;height:100%;">
        <source src="YOUR_VIDEO.mp4" type="video/mp4">
      </video> -->
    </div>
  </div>
</div>

<!-- ████ BRANCHES ████ -->
<section class="branches-section" id="branches">
  <div class="container">
    <div class="reveal" style="text-align:center;">
      <div class="section-label" style="justify-content:center;">Find Us</div>
      <h2 class="section-title">Two branches, one soul</h2>
      <p class="section-sub" style="text-align:center;margin:10px auto 0;">Both crafted to give you the same warmth and excellence.</p>
    </div>
    <div class="branches-grid">
      <div class="branch-card reveal-left">
        <div class="branch-icon">
          <svg width="22" height="22" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <div class="branch-info">
          <h3>Phoka — Sandton Central</h3>
          <p class="branch-address">12 Nelson Mandela Square, Sandton City, Johannesburg, 2146</p>
          <div class="branch-hours">
            <span class="hour-pill">Mon–Fri: 7am–8pm</span>
            <span class="hour-pill">Sat–Sun: 8am–9pm</span>
          </div>
          <div class="branch-actions">
            <button class="branch-btn primary" onclick="selectBranch('Sandton Central')">Order Here</button>
            <a href="https://maps.google.com" target="_blank" class="branch-btn">Directions</a>
          </div>
        </div>
      </div>
      <div class="branch-card reveal-right">
        <div class="branch-icon">
          <svg width="22" height="22" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <div class="branch-info">
          <h3>Phoka — Rosebank Village</h3>
          <p class="branch-address">Zone 1, The Zone @ Rosebank, Bath Ave, Rosebank, Johannesburg, 2196</p>
          <div class="branch-hours">
            <span class="hour-pill">Mon–Fri: 7am–9pm</span>
            <span class="hour-pill">Sat–Sun: 8am–10pm</span>
          </div>
          <div class="branch-actions">
            <button class="branch-btn primary" onclick="selectBranch('Rosebank Village')">Order Here</button>
            <a href="https://maps.google.com" target="_blank" class="branch-btn">Directions</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ████ APP DOWNLOAD (DESKTOP ONLY) ████ -->
<section class="app-section">
  <div class="container">
    <div class="app-layout">
      <div class="app-text reveal-left">
        <div class="section-label">Coming Soon</div>
        <h2 class="section-title" style="color:#fff;">Phoka in your pocket</h2>
        <p class="section-sub">Order ahead, skip the queue, collect loyalty points and discover new seasonal specials — all from the Phoka app.</p>
        <div class="app-features">
          <div class="app-feature">
            <div class="app-feature-check">
              <svg width="12" height="12" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
            </div>
            Pre-order &amp; skip the queue
          </div>
          <div class="app-feature">
            <div class="app-feature-check">
              <svg width="12" height="12" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
            </div>
            Earn loyalty points with every order
          </div>
          <div class="app-feature">
            <div class="app-feature-check">
              <svg width="12" height="12" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
            </div>
            Exclusive app-only specials
          </div>
          <div class="app-feature">
            <div class="app-feature-check">
              <svg width="12" height="12" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
            </div>
            Real-time order tracking
          </div>
        </div>
        <div class="app-badges">
          <div class="app-badge">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.8-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
            <div class="app-badge-text"><small>Download on</small><strong>App Store</strong></div>
          </div>
          <div class="app-badge">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white"><path d="M3.18 23.76c.27.15.58.18.87.08l11.46-6.62L12.83 14l-9.65 9.76zM21.3 9.37l-2.54-1.47-3.23 3.23 3.23 3.23 2.57-1.48c.73-.42.73-1.49-.03-2.51zM2.23.36C1.93.51 1.7.82 1.7 1.25v21.5c0 .43.23.74.53.89l.1.06 12.05-12.07v-.28L2.23.36zm10.6 10.73l2.59-2.59L4.06.94 12.83 11.09z"/></svg>
            <div class="app-badge-text"><small>Get it on</small><strong>Google Play</strong></div>
          </div>
        </div>
      </div>
      <!-- PHONE MOCKUP -->
      <div class="phone-mockup-wrap reveal-right">
        <div class="phone-mockup">
          <!-- SVG phone frame -->
          <svg class="phone-svg-outer" viewBox="0 0 260 530" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="258" height="528" rx="42" fill="#1A0C02" stroke="#3D2010" stroke-width="2"/>
            <rect x="8" y="8" width="244" height="514" rx="36" fill="#2C1505"/>
            <!-- Screen bezel -->
            <rect x="14" y="14" width="232" height="502" rx="30" fill="#FAF7F2"/>
            <!-- Notch / Dynamic Island -->
            <rect x="95" y="20" width="70" height="22" rx="11" fill="#1A0C02"/>
            <!-- Side buttons -->
            <rect x="-2" y="130" width="3" height="40" rx="1.5" fill="#3D2010"/>
            <rect x="-2" y="180" width="3" height="60" rx="1.5" fill="#3D2010"/>
            <rect x="259" y="155" width="3" height="70" rx="1.5" fill="#3D2010"/>
          </svg>
          <!-- Screen content -->
          <div class="phone-screen-content">
            <img class="phone-screen-img" src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400&q=85" alt="App preview">
            <div class="phone-screen-overlay">
              <div style="margin-bottom:10px;">
                <div style="font-size:9px;font-weight:700;color:var(--text-muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:4px;">Today's Special</div>
                <div style="font-size:13px;font-weight:800;color:var(--text-dark);">Ethiopian Pour Over</div>
                <div style="font-size:10px;color:var(--text-light);">Single origin · Light roast</div>
              </div>
              <div class="phone-ui-bar">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
                  <div>
                    <div class="phone-ui-title">Add to Order</div>
                    <div class="phone-ui-sub">Ready in ~12 min</div>
                  </div>
                  <div style="font-size:13px;font-weight:800;color:var(--accent);">R70</div>
                </div>
                <div class="phone-ui-btn">Order Now</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- NEWSLETTER -->
<section class="newsletter-section">
  <div class="container">
    <div class="newsletter-inner reveal">
      <div class="section-label">Stay Updated</div>
      <h2>Weekly specials &amp; new menu drops</h2>
      <p>Join 12,000+ coffee lovers who get early access to seasonal menus and exclusive deals.</p>
      <div class="newsletter-form">
        <input type="email" class="newsletter-input" placeholder="your@email.com">
        <button class="newsletter-submit" onclick="showToast('You\'re in! Welcome to the Phoka family.')">Subscribe</button>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <span class="footer-logo-text">Phoka <span>Coffee</span></span>
        <p class="footer-tagline">Crafted with soul since 2018. Premium coffee, artisan pastries, and spaces that feel like home across Johannesburg.</p>
        <div class="social-links">
          <a class="social-link" href="#">
            <svg width="16" height="16" fill="none" stroke="rgba(255,255,255,0.7)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/></svg>
          </a>
          <a class="social-link" href="#">
            <svg width="16" height="16" fill="none" stroke="rgba(255,255,255,0.7)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
          </a>
          <a class="social-link" href="#">
            <svg width="16" height="16" fill="none" stroke="rgba(255,255,255,0.7)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
          </a>
          <a class="social-link" href="#">
            <svg width="16" height="16" fill="none" stroke="rgba(255,255,255,0.7)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M22.54 6.42a2.78 2.78 0 00-1.95-1.96C18.88 4 12 4 12 4s-6.88 0-8.59.46a2.78 2.78 0 00-1.95 1.96A29 29 0 001 12a29 29 0 00.46 5.58A2.78 2.78 0 003.41 19.6C5.12 20 12 20 12 20s6.88 0 8.59-.46a2.78 2.78 0 001.95-1.95A29 29 0 0023 12a29 29 0 00-.46-5.58z"/><polygon points="9.75 15.02 15.5 12 9.75 8.98 9.75 15.02" fill="rgba(255,255,255,0.7)" stroke="none"/></svg>
          </a>
        </div>
      </div>
      <div class="footer-col">
        <h4>Menu</h4>
        <ul>
          <li><a href="#menu">Hot Coffee</a></li>
          <li><a href="#menu">Cold Brews</a></li>
          <li><a href="#menu">Cakes &amp; Slices</a></li>
          <li><a href="#menu">Cupcakes</a></li>
          <li><a href="#menu">Muffins</a></li>
          <li><a href="#menu">Specialty Teas</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Visit Us</h4>
        <ul>
          <li><a href="#branches">Sandton Central</a></li>
          <li><a href="#branches">Rosebank Village</a></li>
          <li><a href="#">Hours &amp; Holidays</a></li>
          <li><a href="#">Private Events</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Company</h4>
        <ul>
          <li><a href="#">Our Story</a></li>
          <li><a href="#">Sustainability</a></li>
          <li><a href="#">Careers</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2025 Phoka Coffee. All rights reserved.</p>
      <div class="footer-bottom-links">
        <a href="#">Privacy</a>
        <a href="#">Terms</a>
        <a href="#">Cookies</a>
      </div>
    </div>
  </div>
</footer>

<div class="page-bottom-pad"></div>

<!-- ████ BOTTOM BAR ████ -->
<div class="bottom-bar" id="bottomBar">
  <div class="bottom-bar-inner">
    <div class="bottom-location" onclick="openBranchSelect()">
      <div class="location-pin-icon">
        <svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
      </div>
      <div class="location-info">
        <span class="location-label">Picking up at</span>
        <span class="location-name" id="currentBranchName">
          Sandton Central
          <span class="loc-chevron">
            <svg width="12" height="12" fill="none" stroke="var(--text-muted)" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
          </span>
        </span>
      </div>
    </div>
    <div class="bottom-divider"></div>
    <button class="bottom-cart-btn" onclick="openCart()">
      <div class="cart-icon-wrap">
        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <path d="M16 10a4 4 0 01-8 0"/>
        </svg>
        <div class="cart-icon-badge" id="cartBadge">0</div>
      </div>
      <span id="cartTotalLabel">My Order</span>
    </button>
  </div>
</div>

<!-- ████ ORDER MODAL ████ -->
<div class="overlay" id="orderOverlay" onclick="closeOnBg(event,'orderOverlay')">
  <div class="order-modal" id="orderModal">
    <div class="order-modal-img" id="orderModalImg">
      <img id="orderModalPhoto" src="" alt="">
      <button class="modal-close-btn" onclick="closeOrderModal()">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 14 14"><path d="M1 1l12 12M13 1L1 13"/></svg>
      </button>
    </div>
    <!-- Scrollable body — scrollbar clipped inside the modal -->
    <div class="order-modal-scroll" id="orderModalScroll">
      <div class="order-modal-body">
        <div class="order-product-name" id="orderModalName"></div>
        <div class="order-product-sub" id="orderModalSub"></div>

        <div class="order-section" id="sizeSection">
          <div class="order-section-title">Size <span class="order-section-badge">Required</span></div>
          <div class="size-options">
            <button class="size-btn selected" onclick="selectSize(this,'S',0)">S<small>250ml</small></button>
            <button class="size-btn" onclick="selectSize(this,'M',0.2)">M<small>350ml</small></button>
            <button class="size-btn" onclick="selectSize(this,'L',0.4)">L<small>480ml</small></button>
          </div>
        </div>

        <div class="order-section" id="coffeeTypeSection">
          <div class="order-section-title">Coffee Type <span class="order-section-badge">Required</span></div>
          <div class="coffee-type-grid">
            <div class="coffee-type-option selected" onclick="selectCoffeeType(this,'Black')">
              <div class="ct-icon">
                <svg width="18" height="18" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 3h14M6 3v2a6 6 0 0012 0V3"/><path d="M4 11h16M7 21h10M9 11v6M15 11v6"/></svg>
              </div>
              <div class="ct-label">Black</div>
              <div class="ct-sub">Strong &amp; bold</div>
            </div>
            <div class="coffee-type-option" onclick="selectCoffeeType(this,'White')">
              <div class="ct-icon">
                <svg width="18" height="18" fill="none" stroke="var(--text-light)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M17 8h2a2 2 0 010 4h-2"/><path d="M5 8h12v8a4 4 0 01-4 4H9a4 4 0 01-4-4V8z"/></svg>
              </div>
              <div class="ct-label">White</div>
              <div class="ct-sub">Steamed milk</div>
            </div>
          </div>
        </div>

        <div class="order-section" id="sugarSection">
          <div class="order-section-title">Sugar <span class="order-section-badge">0–5 teaspoons</span></div>
          <div class="sugar-row">
            <button class="sugar-btn" onclick="adjustSugar(-1)">
              <svg width="12" height="2" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 12 2"><line x1="0" y1="1" x2="12" y2="1"/></svg>
            </button>
            <div class="sugar-track">
              <div class="sugar-fill" id="sugarFill" style="width:0%"></div>
            </div>
            <div class="sugar-label" id="sugarDisplay">No sugar</div>
            <button class="sugar-btn" onclick="adjustSugar(1)">
              <svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 12 12"><line x1="6" y1="0" x2="6" y2="12"/><line x1="0" y1="6" x2="12" y2="6"/></svg>
            </button>
          </div>
        </div>

        <div class="order-section">
          <div class="order-section-title">Add-Ons <span class="order-section-badge">Optional</span></div>
          <div class="extras-grid">
            <div class="extra-option" onclick="toggleExtra(this,'Extra Shot',15)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Extra Shot</div>
                <div class="extra-price">+R15</div>
              </div>
            </div>
            <div class="extra-option" onclick="toggleExtra(this,'Oat Milk',20)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Oat Milk</div>
                <div class="extra-price">+R20</div>
              </div>
            </div>
            <div class="extra-option" onclick="toggleExtra(this,'Caramel Drizzle',12)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Caramel Drizzle</div>
                <div class="extra-price">+R12</div>
              </div>
            </div>
            <div class="extra-option" onclick="toggleExtra(this,'Whipped Cream',10)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Whipped Cream</div>
                <div class="extra-price">+R10</div>
              </div>
            </div>
            <div class="extra-option" onclick="toggleExtra(this,'Vanilla Syrup',12)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Vanilla Syrup</div>
                <div class="extra-price">+R12</div>
              </div>
            </div>
            <div class="extra-option" onclick="toggleExtra(this,'Hazelnut Syrup',12)">
              <div class="extra-check">
                <svg width="10" height="8" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 10 8"><path d="M1 4l3 3L9 1"/></svg>
              </div>
              <div>
                <div class="extra-name">Hazelnut Syrup</div>
                <div class="extra-price">+R12</div>
              </div>
            </div>
          </div>
        </div>

        <div class="order-section">
          <div class="order-section-title">Special Instructions <span class="order-section-badge">Optional</span></div>
          <textarea class="notes-input" id="orderNotes" rows="2" placeholder="e.g. Extra hot, no ice..."></textarea>
        </div>

        <div class="order-section">
          <div class="order-section-title">Quantity</div>
          <div class="qty-row">
            <button class="qty-btn" onclick="adjustQty(-1)">
              <svg width="12" height="2" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 12 2"><line x1="0" y1="1" x2="12" y2="1"/></svg>
            </button>
            <div class="qty-val" id="qtyDisplay">1</div>
            <button class="qty-btn" onclick="adjustQty(1)">
              <svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 12 12"><line x1="6" y1="0" x2="6" y2="12"/><line x1="0" y1="6" x2="12" y2="6"/></svg>
            </button>
          </div>
        </div>

        <button class="add-btn" onclick="addToCart()">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg>
          Add to Order
          <div class="add-btn-sep"></div>
          <span id="addBtnPrice">R0</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ████ CART PANEL ████ -->
<div class="cart-overlay" id="cartOverlay" onclick="closeOnBg2(event,'cartOverlay')">
  <div class="cart-panel">
    <div class="cart-panel-header">
      <div class="cart-panel-title">Your Order</div>
      <button class="cart-panel-close" onclick="closeCart()">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 14 14"><path d="M1 1l12 12M13 1L1 13"/></svg>
      </button>
    </div>
    <div class="cart-panel-branch">
      <span class="cart-branch-label">Pick Up Branch</span>
      <div class="cart-branch-select">
        <div class="cart-branch-opt selected" id="branchOpt1" onclick="selectBranchInCart('Sandton Central')">Sandton Central</div>
        <div class="cart-branch-opt" id="branchOpt2" onclick="selectBranchInCart('Rosebank Village')">Rosebank Village</div>
      </div>
    </div>
    <div class="cart-panel-body" id="cartBody">
      <div class="cart-empty">
        <div class="cart-empty-icon">
          <svg width="52" height="52" fill="none" stroke="var(--border)" stroke-width="1.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
        </div>
        <p>Your order is empty</p>
        <small>Add something delicious!</small>
      </div>
    </div>
    <div class="cart-panel-footer">
      <div class="cart-summary" id="cartSummary" style="display:none;">
        <div class="cart-summary-row"><span>Subtotal</span><span id="cartSubtotal">R0</span></div>
        <div class="cart-summary-row"><span>Service Fee</span><span>R5</span></div>
        <div class="cart-summary-row total"><span>Total</span><span id="cartTotal">R5</span></div>
      </div>
      <button class="checkout-btn" onclick="openCheckout()">
        Proceed to Checkout
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
    </div>
  </div>
</div>

<!-- ████ CHECKOUT MODAL ████ -->
<div class="checkout-overlay" id="checkoutOverlay" onclick="closeOnBg3(event,'checkoutOverlay')">
  <div class="checkout-modal">
    <div class="checkout-modal-header">
      <h2>Complete Your Order</h2>
      <button class="cart-panel-close" onclick="closeCheckout()">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 14 14"><path d="M1 1l12 12M13 1L1 13"/></svg>
      </button>
    </div>
    <div class="checkout-modal-body">
      <div style="background:var(--choco-50);border:1px solid var(--choco-100);border-radius:var(--radius-sm);padding:12px 14px;margin-bottom:18px;font-size:13px;color:var(--text-mid);display:flex;align-items:center;gap:8px;">
        <svg width="14" height="14" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        Picking up at: <strong id="checkoutBranch">Sandton Central</strong>
      </div>
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" class="form-input" id="chkName" placeholder="Your name" required>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Phone</label>
          <input type="tel" class="form-input" id="chkPhone" placeholder="+27 000 000 000">
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" class="form-input" id="chkEmail" placeholder="you@email.com">
        </div>
      </div>
      <div class="form-divider"></div>
      <span class="form-section-label">Payment Method</span>
      <div class="payment-icons">
        <div class="pay-icon active" onclick="selectPay(this)">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
          Card
        </div>
        <div class="pay-icon" onclick="selectPay(this)">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
          Pay
        </div>
        <div class="pay-icon" onclick="selectPay(this)">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          EFT
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Card Number</label>
          <input type="text" class="form-input" id="chkCard" placeholder="0000 0000 0000 0000" maxlength="19" oninput="formatCard(this)">
        </div>
        <div class="form-group">
          <label>Expiry</label>
          <input type="text" class="form-input" id="chkExpiry" placeholder="MM / YY" maxlength="7" oninput="formatExpiry(this)">
        </div>
      </div>
      <div class="form-group">
        <label>CVV</label>
        <input type="text" class="form-input" id="chkCvv" placeholder="123" maxlength="3">
      </div>
      <div class="form-divider"></div>
      <div class="cart-summary">
        <div class="cart-summary-row"><span>Subtotal</span><span id="checkoutSubtotal">R0</span></div>
        <div class="cart-summary-row"><span>Service Fee</span><span>R5</span></div>
        <div class="cart-summary-row total"><span>Total Due</span><span id="checkoutTotal">R5</span></div>
      </div>
      <button class="order-submit" onclick="placeOrder()">
        Place Order
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
    </div>
  </div>
</div>

<!-- ████ BRANCH SHEET ████ -->
<div class="branch-select-overlay" id="branchSelectOverlay" onclick="closeBranchSelectOnBg(event)">
  <div class="branch-select-sheet">
    <div class="sheet-handle"></div>
    <h3 class="sheet-title">Choose Your Branch</h3>
    <p class="sheet-sub">Select where you'd like to pick up your order.</p>
    <div class="sheet-branch-opts">
      <div class="sheet-branch-card" id="sheetOpt1" onclick="confirmBranchSelect('Sandton Central','sheetOpt1','sheetOpt2')">
        <div class="sheet-branch-icon">
          <svg width="18" height="18" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <div class="sheet-branch-info">
          <h4>Sandton Central</h4>
          <p>12 Nelson Mandela Square</p>
        </div>
        <span class="sheet-selected-mark">
          <svg width="18" height="18" fill="none" stroke="var(--accent)" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
        </span>
      </div>
      <div class="sheet-branch-card" id="sheetOpt2" onclick="confirmBranchSelect('Rosebank Village','sheetOpt2','sheetOpt1')">
        <div class="sheet-branch-icon">
          <svg width="18" height="18" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <div class="sheet-branch-info">
          <h4>Rosebank Village</h4>
          <p>The Zone @ Rosebank, Bath Ave</p>
        </div>
        <span class="sheet-selected-mark">
          <svg width="18" height="18" fill="none" stroke="var(--accent)" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
        </span>
      </div>
    </div>
    <button class="sheet-confirm" onclick="closeBranchSelect()">Confirm Branch</button>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
/* ══════════════════════
   DATA
══════════════════════ */
const CATS=[
  {id:'coffee',label:'Hot Coffee',icon:`<svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M5 3h14M6 3v2a6 6 0 0012 0V3"/><path d="M4 11h16M7 21h10M9 11v6M15 11v6"/></svg>`},
  {id:'cold',label:'Cold Brew & Iced',icon:`<svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M8 2v4M16 2v4M3 10h18M5 6h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2z"/></svg>`},
  {id:'cake',label:'Signature Cakes',icon:`<svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M20 21v-8a2 2 0 00-2-2H6a2 2 0 00-2 2v8"/><path d="M4 21h16M12 3v6M8 7l4-4 4 4"/></svg>`},
  {id:'pastry',label:'Cupcakes & Muffins',icon:`<svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 2a5 5 0 015 5v1H7V7a5 5 0 015-5z"/><rect x="4" y="8" width="16" height="12" rx="2"/></svg>`},
  {id:'tea',label:'Specialty Teas',icon:`<svg width="16" height="16" fill="none" stroke="var(--accent)" stroke-width="1.8" stroke-linecap="round" viewBox="0 0 24 24"><path d="M17 8h2a2 2 0 010 4h-2"/><path d="M5 8h12v8a4 4 0 01-4 4H9a4 4 0 01-4-4V8z"/></svg>`},
];

const products=[
  {id:1,name:"Phoka Signature Espresso",cat:"coffee",price:45,desc:"Rich double shot with chocolate undertones",img:"https://images.unsplash.com/photo-1510707577719-ae7c14805e3a?auto=format&fit=crop&w=600&q=85",badge:"popular",coffee:true},
  {id:2,name:"Caramel Cloud Latte",cat:"coffee",price:65,desc:"Smooth espresso with caramel & steamed oat milk",img:"https://images.unsplash.com/photo-1485808191679-5f86510bd652?auto=format&fit=crop&w=600&q=85",badge:"popular",coffee:true},
  {id:3,name:"Ethiopian Pour Over",cat:"coffee",price:70,desc:"Single origin, light roast, citrus & floral notes",img:"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=600&q=85",coffee:true},
  {id:4,name:"Vanilla Bean Cappuccino",cat:"coffee",price:60,desc:"Classic cappuccino with Madagascar vanilla",img:"https://images.unsplash.com/photo-1534778101976-62847782c213?auto=format&fit=crop&w=600&q=85",coffee:true},
  {id:5,name:"Flat White",cat:"coffee",price:55,desc:"Velvety micro-foam espresso, Australian style",img:"https://images.unsplash.com/photo-1572442388796-11668a67e53d?auto=format&fit=crop&w=600&q=85",coffee:true},
  {id:6,name:"Cortado",cat:"coffee",price:50,desc:"Equal parts espresso & warm milk, balanced",img:"https://images.unsplash.com/photo-1559496417-e7f25cb247f3?auto=format&fit=crop&w=600&q=85",coffee:true},
  {id:7,name:"Cold Brew Original",cat:"cold",price:65,desc:"12-hour steeped, smooth & naturally sweet",img:"https://images.unsplash.com/photo-1461023058943-07fcbe16d735?auto=format&fit=crop&w=600&q=85",badge:"popular"},
  {id:8,name:"Nitro Cold Brew",cat:"cold",price:75,desc:"Silky nitrogen-infused cold brew on tap",img:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&w=600&q=85",badge:"new"},
  {id:9,name:"Iced Brown Sugar Oat Latte",cat:"cold",price:72,desc:"Espresso over ice, oat milk & brown sugar syrup",img:"https://images.unsplash.com/photo-1546549032-9571cd6b27df?auto=format&fit=crop&w=600&q=85"},
  {id:10,name:"Mango Cold Brew Tonic",cat:"cold",price:70,desc:"Cold brew + mango + sparkling tonic",img:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&w=600&q=85",badge:"new"},
  {id:11,name:"Triple Chocolate Cake",cat:"cake",price:180,desc:"Moist dark chocolate sponge, ganache frosting",img:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=600&q=85",badge:"popular"},
  {id:12,name:"Red Velvet Beauty",cat:"cake",price:165,desc:"Cream cheese frosting, crimson velvet layers",img:"https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b?auto=format&fit=crop&w=600&q=85"},
  {id:13,name:"Lemon Drizzle Loaf",cat:"cake",price:140,desc:"Zesty lemon sponge with a tangy glaze",img:"https://images.unsplash.com/photo-1551404973-761c83cd8339?auto=format&fit=crop&w=600&q=85",badge:"new"},
  {id:14,name:"Carrot & Walnut Cake",cat:"cake",price:155,desc:"Spiced carrot cake, walnuts & cream cheese",img:"https://images.unsplash.com/photo-1621303837174-89787a7d4729?auto=format&fit=crop&w=600&q=85"},
  {id:15,name:"Salted Caramel Cupcake",cat:"pastry",price:55,desc:"Butter cupcake, salted caramel buttercream",img:"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?auto=format&fit=crop&w=600&q=85",badge:"popular"},
  {id:16,name:"Dark Choc Fudge Cupcake",cat:"pastry",price:55,desc:"Rich fudge centre, chocolate ganache top",img:"https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?auto=format&fit=crop&w=600&q=85"},
  {id:17,name:"Blueberry Streusel Muffin",cat:"pastry",price:48,desc:"Juicy blueberries, crunchy streusel topping",img:"https://images.unsplash.com/photo-1604882355280-6ee97a5c5c4e?auto=format&fit=crop&w=600&q=85",badge:"new"},
  {id:18,name:"Matcha White Choc Muffin",cat:"pastry",price:52,desc:"Japanese matcha with white chocolate chips",img:"https://images.unsplash.com/photo-1587668178277-295251f900ce?auto=format&fit=crop&w=600&q=85"},
  {id:19,name:"Masala Chai Latte",cat:"tea",price:58,desc:"Spiced chai, steamed oat milk, honey drizzle",img:"https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?auto=format&fit=crop&w=600&q=85",badge:"popular"},
  {id:20,name:"Ceremonial Matcha Latte",cat:"tea",price:72,desc:"Japanese grade matcha, frothed oat milk",img:"https://images.unsplash.com/photo-1536256263959-770b48d82b0a?auto=format&fit=crop&w=600&q=85",badge:"new"},
  {id:21,name:"Moroccan Mint Tea",cat:"tea",price:42,desc:"Loose leaf mint, brewed in a traditional pot",img:"https://images.unsplash.com/photo-1547637589-f54c34f5d7a4?auto=format&fit=crop&w=600&q=85"},
  {id:22,name:"Hibiscus & Rose Iced Tea",cat:"tea",price:50,desc:"Floral & tart, served chilled with rose petals",img:"https://images.unsplash.com/photo-1543362906-acfc16c67564?auto=format&fit=crop&w=600&q=85"},
];

/* ══════════════════════
   STATE
══════════════════════ */
let cart=[];
let currentProduct=null;
let currentSugar=0;
let currentSizeExtra=0;
let currentCoffeeType='Black';
let currentQty=1;
let currentExtras=[];
let selectedBranch='Sandton Central';
let currentFilter='all';
let favourites=new Set();

/* ══════════════════════
   RENDER
══════════════════════ */
function renderMenu(){
  const content=document.getElementById('menuContent');
  const catsToShow=currentFilter==='all'?CATS.map(c=>c.id):[currentFilter];

  let html='';
  catsToShow.forEach(catId=>{
    const catInfo=CATS.find(c=>c.id===catId);
    const items=products.filter(p=>p.cat===catId);
    if(!items.length)return;
    html+=`
      <div class="category-group" id="cat-${catId}">
        <div class="category-group-header">
          <div class="cat-group-icon">${catInfo.icon}</div>
          <div class="cat-group-title">${catInfo.label}</div>
          <div class="cat-group-count">${items.length} items</div>
        </div>
        <div class="products-grid">
          ${items.map((p,i)=>productCardHTML(p,i)).join('')}
        </div>
      </div>
    `;
  });

  content.innerHTML=html||'<p style="color:var(--text-muted);padding:40px 0;">No items found.</p>';
  observeReveal();
}

function productCardHTML(p,i){
  const isFav=favourites.has(p.id);
  const rating=(4.6+Math.random()*0.4).toFixed(1);
  const reviews=Math.floor(50+Math.random()*120);
  return `
    <div class="product-card reveal" data-delay="${(i%3)+1}" onclick="openOrderModal(${p.id})">
      <div class="product-img-wrap">
        <img src="${p.img}" alt="${p.name}" loading="lazy">
        ${p.badge?`<div class="product-badge ${p.badge}">${p.badge==='popular'?'Popular':'New'}</div>`:''}
        <button class="fav-btn ${isFav?'active':''}" onclick="toggleFav(event,${p.id})" title="Add to favourites">
          <svg width="14" height="14" fill="${isFav?'var(--accent)':'none'}" stroke="${isFav?'var(--accent)':'currentColor'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
            <path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/>
          </svg>
        </button>
        <div class="quick-add" onclick="event.stopPropagation();openOrderModal(${p.id})">
          <svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14"/></svg>
          Customise &amp; Add
        </div>
      </div>
      <div class="product-info">
        <div class="product-name">${p.name}</div>
        <div class="product-desc">${p.desc}</div>
        <div class="product-footer">
          <div class="product-price">R${p.price}<span> / S</span></div>
          <div class="product-rating">
            <svg width="12" height="12" fill="#F59E0B" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            ${rating} (${reviews})
          </div>
        </div>
      </div>
    </div>
  `;
}

function filterMenu(cat,btnEl){
  currentFilter=cat;
  // Update desktop sidebar
  document.querySelectorAll('.sidebar-filter').forEach(b=>b.classList.toggle('active',b.dataset.cat===cat));
  // Update mobile tabs
  document.querySelectorAll('.mobile-filter-tab').forEach(b=>{
    const match=(cat==='all'&&b.textContent.trim()==='All')||(b.getAttribute('onclick')&&b.getAttribute('onclick').includes(`'${cat}'`));
    b.classList.toggle('active',match);
  });
  if(btnEl){
    // Mobile tabs
    if(btnEl.classList.contains('mobile-filter-tab')){
      document.querySelectorAll('.mobile-filter-tab').forEach(b=>b.classList.remove('active'));
      btnEl.classList.add('active');
    }
  }
  renderMenu();
}

/* ══════════════════════
   FAVOURITES
══════════════════════ */
function toggleFav(e,id){
  e.stopPropagation();
  if(favourites.has(id)){
    favourites.delete(id);
    showToast('Removed from favourites');
  }else{
    favourites.add(id);
    showToast('Added to favourites');
  }
  // Update header fav button appearance if any favs
  document.getElementById('favBtn').classList.toggle('fav-active',favourites.size>0);
  renderMenu();
}
function toggleFavPanel(){
  if(favourites.size===0){showToast('No favourites yet — heart items to save them!');return;}
  const old=currentFilter;
  // Filter to show favourites inline
  const favCat=currentFilter;
  // Instead, show toast listing count
  showToast(`You have ${favourites.size} favourite${favourites.size>1?'s':''}!`);
}

/* ══════════════════════
   ORDER MODAL
══════════════════════ */
function openOrderModal(id){
  currentProduct=products.find(p=>p.id===id);
  if(!currentProduct)return;
  currentSugar=0;currentSizeExtra=0;currentCoffeeType='Black';currentQty=1;currentExtras=[];
  // populate
  document.getElementById('orderModalPhoto').src=currentProduct.img;
  document.getElementById('orderModalName').textContent=currentProduct.name;
  document.getElementById('orderModalSub').textContent=currentProduct.desc;
  // reset options
  document.querySelectorAll('.size-btn').forEach((b,i)=>b.classList.toggle('selected',i===0));
  document.querySelectorAll('.coffee-type-option').forEach((b,i)=>b.classList.toggle('selected',i===0));
  document.querySelectorAll('.extra-option').forEach(b=>b.classList.remove('checked'));
  document.getElementById('sugarFill').style.width='0%';
  document.getElementById('sugarDisplay').textContent='No sugar';
  document.getElementById('qtyDisplay').textContent='1';
  document.getElementById('orderNotes').value='';
  // show/hide coffee options
  const isCoffee=currentProduct.coffee;
  document.getElementById('coffeeTypeSection').style.display=isCoffee?'':'none';
  document.getElementById('sugarSection').style.display=isCoffee?'':'none';
  document.getElementById('sizeSection').style.display=isCoffee?'':'none';
  // scroll to top
  document.getElementById('orderModalScroll').scrollTop=0;
  updateAddBtn();
  document.getElementById('orderOverlay').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeOrderModal(){
  document.getElementById('orderOverlay').classList.remove('open');
  document.body.style.overflow='';
}
function closeOnBg(e,id){if(e.target.id===id)closeOrderModal();}

function selectSize(btn,s,extra){
  currentSizeExtra=extra;
  document.querySelectorAll('.size-btn').forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected');
  updateAddBtn();
}
function selectCoffeeType(el,type){
  currentCoffeeType=type;
  document.querySelectorAll('.coffee-type-option').forEach(b=>b.classList.remove('selected'));
  el.classList.add('selected');
}
function adjustSugar(d){
  currentSugar=Math.max(0,Math.min(5,currentSugar+d));
  document.getElementById('sugarFill').style.width=(currentSugar/5*100)+'%';
  document.getElementById('sugarDisplay').textContent=currentSugar===0?'No sugar':currentSugar===1?'1 tsp':currentSugar+' tsp';
}
function toggleExtra(el,name,price){
  el.classList.toggle('checked');
  if(el.classList.contains('checked')){currentExtras.push({name,price});}
  else{currentExtras=currentExtras.filter(e=>e.name!==name);}
  updateAddBtn();
}
function adjustQty(d){
  currentQty=Math.max(1,Math.min(20,currentQty+d));
  document.getElementById('qtyDisplay').textContent=currentQty;
  updateAddBtn();
}
function updateAddBtn(){
  if(!currentProduct)return;
  const base=currentProduct.price*(1+currentSizeExtra);
  const extras=currentExtras.reduce((s,e)=>s+e.price,0);
  const total=Math.round((base+extras)*currentQty);
  document.getElementById('addBtnPrice').textContent='R'+total;
}
function addToCart(){
  if(!currentProduct)return;
  const base=currentProduct.price*(1+currentSizeExtra);
  const extras=currentExtras.reduce((s,e)=>s+e.price,0);
  const itemPrice=Math.round((base+extras)*currentQty);
  const notes=document.getElementById('orderNotes').value.trim();
  const parts=[];
  if(currentProduct.coffee){
    const sizes={0:'Small',0.2:'Medium',0.4:'Large'};
    parts.push(sizes[currentSizeExtra]||'Small');
    parts.push(currentCoffeeType);
    parts.push(currentSugar===0?'No sugar':currentSugar+' tsp sugar');
  }
  currentExtras.forEach(e=>parts.push(e.name));
  if(notes)parts.push(notes);
  cart.push({
    id:Date.now()+Math.random(),
    productId:currentProduct.id,
    name:currentProduct.name,
    img:currentProduct.img,
    qty:currentQty,
    price:itemPrice,
    custom:parts.join(' · ')||'Standard'
  });
  closeOrderModal();
  updateCartUI();
  showToast(currentProduct.name+' added to your order');
}

/* ══════════════════════
   CART
══════════════════════ */
function openCart(){
  document.getElementById('cartOverlay').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeCart(){
  document.getElementById('cartOverlay').classList.remove('open');
  document.body.style.overflow='';
}
function closeOnBg2(e,id){if(e.target.id===id)closeCart();}

function updateCartUI(){
  const count=cart.reduce((s,i)=>s+i.qty,0);
  const subtotal=cart.reduce((s,i)=>s+i.price,0);
  const total=subtotal+5;
  // Badges
  const hb=document.getElementById('headerCartBadge');
  hb.textContent=count;
  hb.style.display=count>0?'flex':'none';
  document.getElementById('cartBadge').textContent=count;
  document.getElementById('cartTotalLabel').textContent=count>0?'R'+total+' Order':'My Order';
  // Summary
  document.getElementById('cartSubtotal').textContent='R'+subtotal;
  document.getElementById('cartTotal').textContent='R'+total;
  document.getElementById('checkoutSubtotal').textContent='R'+subtotal;
  document.getElementById('checkoutTotal').textContent='R'+total;
  document.getElementById('cartSummary').style.display=cart.length?'block':'none';
  renderCartItems();
}
function renderCartItems(){
  const body=document.getElementById('cartBody');
  if(!cart.length){
    body.innerHTML=`<div class="cart-empty">
      <div class="cart-empty-icon">
        <svg width="52" height="52" fill="none" stroke="var(--border)" stroke-width="1.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
      </div>
      <p>Your order is empty</p><small>Add something delicious!</small>
    </div>`;
    return;
  }
  body.innerHTML=cart.map(item=>`
    <div class="cart-item-row">
      <div class="cart-item-img"><img src="${item.img}" alt="${item.name}" loading="lazy"></div>
      <div class="cart-item-details">
        <div class="cart-item-name">${item.name}</div>
        <div class="cart-item-customization">${item.custom}</div>
        <div class="cart-item-actions">
          <div class="cart-qty-ctrl">
            <button class="cart-qty-btn" onclick="changeCartQty(${item.id},-1)">−</button>
            <span class="cart-qty-num">${item.qty}</span>
            <button class="cart-qty-btn" onclick="changeCartQty(${item.id},1)">+</button>
          </div>
          <span class="cart-item-price">R${item.price}</span>
        </div>
        <button class="cart-remove" onclick="removeCartItem(${item.id})">Remove</button>
      </div>
    </div>
  `).join('');
}
function changeCartQty(id,d){
  const item=cart.find(i=>i.id===id);
  if(!item)return;
  const unit=item.price/item.qty;
  item.qty=Math.max(1,item.qty+d);
  item.price=Math.round(unit*item.qty);
  updateCartUI();
}
function removeCartItem(id){
  cart=cart.filter(i=>i.id!==id);
  updateCartUI();
}

/* ══════════════════════
   CHECKOUT
══════════════════════ */
function openCheckout(){
  if(!cart.length){showToast('Your order is empty!');return;}
  closeCart();
  document.getElementById('checkoutBranch').textContent=selectedBranch;
  document.getElementById('checkoutOverlay').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeCheckout(){
  document.getElementById('checkoutOverlay').classList.remove('open');
  document.body.style.overflow='';
}
function closeOnBg3(e,id){if(e.target.id===id)closeCheckout();}
function selectPay(el){
  document.querySelectorAll('.pay-icon').forEach(p=>p.classList.remove('active'));
  el.classList.add('active');
}
function formatCard(el){
  let v=el.value.replace(/\D/g,'').substring(0,16);
  el.value=v.replace(/(.{4})/g,'$1 ').trim();
}
function formatExpiry(el){
  let v=el.value.replace(/[^0-9]/g,'');
  if(v.length>2)v=v.substring(0,2)+' / '+v.substring(2,4);
  el.value=v;
}
function placeOrder(){
  const name=document.getElementById('chkName').value.trim();
  if(!name){showToast('Please fill in your name');return;}
  closeCheckout();
  cart=[];
  updateCartUI();
  setTimeout(()=>showToast('Order placed! Ready in ~15 min at '+selectedBranch),300);
}

/* ══════════════════════
   BRANCH
══════════════════════ */
function selectBranch(branch){
  selectedBranch=branch;
  setBranchUI();
  showToast('Branch set to '+branch);
}
function selectBranchInCart(branch){
  selectedBranch=branch;
  setBranchUI();
}
function setBranchUI(){
  const n=document.getElementById('currentBranchName');
  n.innerHTML=selectedBranch+' <span class="loc-chevron"><svg width="12" height="12" fill="none" stroke="var(--text-muted)" stroke-width="2.5" stroke-linecap="round" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg></span>';
  document.getElementById('branchOpt1').classList.toggle('selected',selectedBranch==='Sandton Central');
  document.getElementById('branchOpt2').classList.toggle('selected',selectedBranch==='Rosebank Village');
}
function openBranchSelect(){
  document.getElementById('branchSelectOverlay').classList.add('open');
}
function closeBranchSelect(){
  document.getElementById('branchSelectOverlay').classList.remove('open');
}
function closeBranchSelectOnBg(e){if(e.target.id==='branchSelectOverlay')closeBranchSelect();}
function confirmBranchSelect(name,activeId,inactiveId){
  selectedBranch=name;
  document.getElementById(activeId).classList.add('selected');
  document.getElementById(inactiveId).classList.remove('selected');
  setBranchUI();
}

/* ══════════════════════
   VIDEO MODAL
══════════════════════ */
function openVideoModal(){
  document.getElementById('videoModalOverlay').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeVideoModal(){
  document.getElementById('videoModalOverlay').classList.remove('open');
  document.body.style.overflow='';
}
function closeVideoOnBg(e){if(e.target.id==='videoModalOverlay')closeVideoModal();}

/* ══════════════════════
   MOBILE NAV
══════════════════════ */
function toggleMobileNav(){
  document.getElementById('mobileNav').classList.toggle('open');
}

/* ══════════════════════
   HEADER SCROLL
══════════════════════ */
window.addEventListener('scroll',()=>{
  document.getElementById('mainHeader').classList.toggle('scrolled',window.scrollY>60);
},{passive:true});

/* ══════════════════════
   TOAST
══════════════════════ */
let toastTimer;
function showToast(msg){
  const t=document.getElementById('toast');
  clearTimeout(toastTimer);
  t.textContent=msg;
  t.classList.add('show');
  toastTimer=setTimeout(()=>t.classList.remove('show'),3000);
}

/* ══════════════════════
   INTERSECTION OBSERVER
══════════════════════ */
let obs;
function observeReveal(){
  if(obs)obs.disconnect();
  obs=new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting){e.target.classList.add('visible');obs.unobserve(e.target);}
    });
  },{threshold:0.1,rootMargin:'0px 0px -30px 0px'});
  document.querySelectorAll('.reveal,.reveal-left,.reveal-right,.reveal-scale').forEach(el=>obs.observe(el));
}

/* ══════════════════════
   INIT
══════════════════════ */
renderMenu();
updateCartUI();
observeReveal();
</script>
</body>
</html>